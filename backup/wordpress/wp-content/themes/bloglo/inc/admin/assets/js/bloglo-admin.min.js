!function(t){"use strict";var e={init:function(){t(document).ready(e.ready),t(window).on("load",e.load),e.bindUIActions(),t(document).trigger("blogloReady")},ready:function(){},load:function(){window.dispatchEvent(new Event("resize"))},resize:function(){},bindUIActions:function(){var n,a=t("#wpwrap");t("body"),a.on("click",".plugins .hester-btn:not(.active)",function(s){s.preventDefault(),a.find(".plugins .hester-btn.in-progress").length||(n=t(this),e.pluginAction(n))}),t(document).on("wp-plugin-install-success",e.pluginInstallSuccess),t(document).on("wp-plugin-install-error",e.pluginInstallError)},pluginAction:function(e){if(e.addClass("in-progress").attr("disabled","disabled").html(hester_strings.texts[e.data("action")+"-inprogress"]),"install"===e.data("action"))wp.updates.shouldRequestFilesystemCredentials&&!wp.updates.ajaxLocked&&(wp.updates.requestFilesystemCredentials(event),t(document).on("credential-modal-cancel",function(){e.removeAttr("disabled").removeClass("in-progress").html(hester_strings.texts.install),wp.a11y.speak(wp.updates.l10n.updateCancel,"polite")})),wp.updates.installPlugin({slug:e.data("plugin")});else{var n={_ajax_nonce:hester_strings.wpnonce,plugin:e.data("plugin"),action:"hester-plugin-"+e.data("action")};t.post(hester_strings.ajaxurl,n,function(n){n.success?e.data("redirect")?window.location.href=e.data("redirect"):location.reload():t(".plugins .hester-btn.in-progress").removeAttr("disabled").removeClass("in-progress primary").addClass("secondary").html(hester_strings.texts.retry)})}},pluginInstallSuccess:function(n,a){n.preventDefault();var s,i=jQuery(n.target).data("init");s=void 0===i?a.slug:i;var l=t('.plugins a[data-plugin="'+s+'"]');l.data("action","activate"),e.pluginAction(l)},pluginInstallError:function(e,n){e.preventDefault();var a,s=jQuery(e.target).data("init");a=void 0===s?n.slug:s,t('.plugins a[data-plugin="'+a+'"]').attr("disabled","disabled").removeClass("in-progress primary").addClass("secondary").html(wp.updates.l10n.installFailedShort)}};e.init(),window.blogloadmin=e}(jQuery);