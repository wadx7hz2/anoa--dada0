{"version":3,"file":"editor.js","mappings":"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","sources":["webpack://html5-video-player-pro/webpack/bootstrap","webpack://html5-video-player-pro/webpack/runtime/compat get default export","webpack://html5-video-player-pro/webpack/runtime/define property getters","webpack://html5-video-player-pro/webpack/runtime/hasOwnProperty shorthand","webpack://html5-video-player-pro/../../../../../../plugin-modules/node_modules/immer/dist/immer.mjs","webpack://html5-video-player-pro/./src/blocks/Components/BControls.js","webpack://html5-video-player-pro/external var [\"wp\",\"components\"]","webpack://html5-video-player-pro/./src/blocks/Components/BMediaUpload.js","webpack://html5-video-player-pro/external var [\"React\"]","webpack://html5-video-player-pro/../wp-utils/v1/hooks/useWPAjax.js","webpack://html5-video-player-pro/../wp-utils/v1/htmlToElement.js","webpack://html5-video-player-pro/../wp-utils/v1/isYoutubeURL.js","webpack://html5-video-player-pro/external var [\"wp\",\"i18n\"]","webpack://html5-video-player-pro/./src/components/BControlPro.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Settings.js","webpack://html5-video-player-pro/./src/blocks/Components/BColor.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Overlay.js","webpack://html5-video-player-pro/./src/blocks/Components/PremiumText.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Subtitle.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Quality.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Watermark.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Popup.js","webpack://html5-video-player-pro/../wp-utils/v1/panelBodyController.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/EndScreen.js","webpack://html5-video-player-pro/./src/blocks/Components/RefactorDataStructure.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Markers.js","webpack://html5-video-player-pro/./src/blocks/Components/BSettings.js","webpack://html5-video-player-pro/./src/public/MyPlayer.js","webpack://html5-video-player-pro/./src/components/Overlay/Overlay.js","webpack://html5-video-player-pro/./src/components/PopupOpener/PopupOpener.js","webpack://html5-video-player-pro/./src/components/Video.js","webpack://html5-video-player-pro/./src/components/Youtube.js","webpack://html5-video-player-pro/./src/utils/isVimeoLink.js","webpack://html5-video-player-pro/./src/components/EndScreen/EndScreen.js","webpack://html5-video-player-pro/./src/utils/camelToKebabCase.js","webpack://html5-video-player-pro/./src/components/Style.js","webpack://html5-video-player-pro/./src/components/Vimeo.js","webpack://html5-video-player-pro/../wp-utils/v1/generateUniqueId.js","webpack://html5-video-player-pro/./src/components/VideoPlayer.js","webpack://html5-video-player-pro/./src/blocks/video/Edit.js","webpack://html5-video-player-pro/./src/blocks/video/index.js","webpack://html5-video-player-pro/./src/blocks/youtube/Edit.js","webpack://html5-video-player-pro/./src/blocks/youtube/index.js","webpack://html5-video-player-pro/./src/blocks/vimeo/Edit.js","webpack://html5-video-player-pro/./src/blocks/vimeo/index.js","webpack://html5-video-player-pro/./src/blocks/parent/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// src/utils/env.ts\nvar NOTHING = Symbol.for(\"immer-nothing\");\nvar DRAFTABLE = Symbol.for(\"immer-draftable\");\nvar DRAFT_STATE = Symbol.for(\"immer-state\");\n\n// src/utils/errors.ts\nvar errors = process.env.NODE_ENV !== \"production\" ? [\n  // All error codes, starting by 0:\n  function(plugin) {\n    return `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`;\n  },\n  function(thing) {\n    return `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`;\n  },\n  \"This object has been frozen and should not be mutated\",\n  function(data) {\n    return \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + data;\n  },\n  \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n  \"Immer forbids circular references\",\n  \"The first or second argument to `produce` must be a function\",\n  \"The third argument to `produce` must be a function or undefined\",\n  \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n  \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n  function(thing) {\n    return `'current' expects a draft, got: ${thing}`;\n  },\n  \"Object.defineProperty() cannot be used on an Immer draft\",\n  \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n  \"Immer only supports deleting array indices\",\n  \"Immer only supports setting array indices and the 'length' property\",\n  function(thing) {\n    return `'original' expects a draft, got: ${thing}`;\n  }\n  // Note: if more errors are added, the errorOffset in Patches.ts should be increased\n  // See Patches.ts for additional errors\n] : [];\nfunction die(error, ...args) {\n  if (process.env.NODE_ENV !== \"production\") {\n    const e = errors[error];\n    const msg = typeof e === \"function\" ? e.apply(null, args) : e;\n    throw new Error(`[Immer] ${msg}`);\n  }\n  throw new Error(\n    `[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n  );\n}\n\n// src/utils/common.ts\nvar getPrototypeOf = Object.getPrototypeOf;\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\nfunction isDraftable(value) {\n  if (!value)\n    return false;\n  return isPlainObject(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor?.[DRAFTABLE] || isMap(value) || isSet(value);\n}\nvar objectCtorString = Object.prototype.constructor.toString();\nfunction isPlainObject(value) {\n  if (!value || typeof value !== \"object\")\n    return false;\n  const proto = getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n  const Ctor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  if (Ctor === Object)\n    return true;\n  return typeof Ctor == \"function\" && Function.toString.call(Ctor) === objectCtorString;\n}\nfunction original(value) {\n  if (!isDraft(value))\n    die(15, value);\n  return value[DRAFT_STATE].base_;\n}\nfunction each(obj, iter) {\n  if (getArchtype(obj) === 0 /* Object */) {\n    Object.entries(obj).forEach(([key, value]) => {\n      iter(key, value, obj);\n    });\n  } else {\n    obj.forEach((entry, index) => iter(index, entry, obj));\n  }\n}\nfunction getArchtype(thing) {\n  const state = thing[DRAFT_STATE];\n  return state ? state.type_ : Array.isArray(thing) ? 1 /* Array */ : isMap(thing) ? 2 /* Map */ : isSet(thing) ? 3 /* Set */ : 0 /* Object */;\n}\nfunction has(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);\n}\nfunction get(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.get(prop) : thing[prop];\n}\nfunction set(thing, propOrOldValue, value) {\n  const t = getArchtype(thing);\n  if (t === 2 /* Map */)\n    thing.set(propOrOldValue, value);\n  else if (t === 3 /* Set */) {\n    thing.add(value);\n  } else\n    thing[propOrOldValue] = value;\n}\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction isMap(target) {\n  return target instanceof Map;\n}\nfunction isSet(target) {\n  return target instanceof Set;\n}\nfunction latest(state) {\n  return state.copy_ || state.base_;\n}\nfunction shallowCopy(base, strict) {\n  if (isMap(base)) {\n    return new Map(base);\n  }\n  if (isSet(base)) {\n    return new Set(base);\n  }\n  if (Array.isArray(base))\n    return Array.prototype.slice.call(base);\n  if (!strict && isPlainObject(base)) {\n    if (!getPrototypeOf(base)) {\n      const obj = /* @__PURE__ */ Object.create(null);\n      return Object.assign(obj, base);\n    }\n    return { ...base };\n  }\n  const descriptors = Object.getOwnPropertyDescriptors(base);\n  delete descriptors[DRAFT_STATE];\n  let keys = Reflect.ownKeys(descriptors);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const desc = descriptors[key];\n    if (desc.writable === false) {\n      desc.writable = true;\n      desc.configurable = true;\n    }\n    if (desc.get || desc.set)\n      descriptors[key] = {\n        configurable: true,\n        writable: true,\n        // could live with !!desc.set as well here...\n        enumerable: desc.enumerable,\n        value: base[key]\n      };\n  }\n  return Object.create(getPrototypeOf(base), descriptors);\n}\nfunction freeze(obj, deep = false) {\n  if (isFrozen(obj) || isDraft(obj) || !isDraftable(obj))\n    return obj;\n  if (getArchtype(obj) > 1) {\n    obj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections;\n  }\n  Object.freeze(obj);\n  if (deep)\n    each(obj, (_key, value) => freeze(value, true), true);\n  return obj;\n}\nfunction dontMutateFrozenCollections() {\n  die(2);\n}\nfunction isFrozen(obj) {\n  return Object.isFrozen(obj);\n}\n\n// src/utils/plugins.ts\nvar plugins = {};\nfunction getPlugin(pluginKey) {\n  const plugin = plugins[pluginKey];\n  if (!plugin) {\n    die(0, pluginKey);\n  }\n  return plugin;\n}\nfunction loadPlugin(pluginKey, implementation) {\n  if (!plugins[pluginKey])\n    plugins[pluginKey] = implementation;\n}\n\n// src/core/scope.ts\nvar currentScope;\nfunction getCurrentScope() {\n  return currentScope;\n}\nfunction createScope(parent_, immer_) {\n  return {\n    drafts_: [],\n    parent_,\n    immer_,\n    // Whenever the modified draft contains a draft from another scope, we\n    // need to prevent auto-freezing so the unowned draft can be finalized.\n    canAutoFreeze_: true,\n    unfinalizedDrafts_: 0\n  };\n}\nfunction usePatchesInScope(scope, patchListener) {\n  if (patchListener) {\n    getPlugin(\"Patches\");\n    scope.patches_ = [];\n    scope.inversePatches_ = [];\n    scope.patchListener_ = patchListener;\n  }\n}\nfunction revokeScope(scope) {\n  leaveScope(scope);\n  scope.drafts_.forEach(revokeDraft);\n  scope.drafts_ = null;\n}\nfunction leaveScope(scope) {\n  if (scope === currentScope) {\n    currentScope = scope.parent_;\n  }\n}\nfunction enterScope(immer2) {\n  return currentScope = createScope(currentScope, immer2);\n}\nfunction revokeDraft(draft) {\n  const state = draft[DRAFT_STATE];\n  if (state.type_ === 0 /* Object */ || state.type_ === 1 /* Array */)\n    state.revoke_();\n  else\n    state.revoked_ = true;\n}\n\n// src/core/finalize.ts\nfunction processResult(result, scope) {\n  scope.unfinalizedDrafts_ = scope.drafts_.length;\n  const baseDraft = scope.drafts_[0];\n  const isReplaced = result !== void 0 && result !== baseDraft;\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified_) {\n      revokeScope(scope);\n      die(4);\n    }\n    if (isDraftable(result)) {\n      result = finalize(scope, result);\n      if (!scope.parent_)\n        maybeFreeze(scope, result);\n    }\n    if (scope.patches_) {\n      getPlugin(\"Patches\").generateReplacementPatches_(\n        baseDraft[DRAFT_STATE].base_,\n        result,\n        scope.patches_,\n        scope.inversePatches_\n      );\n    }\n  } else {\n    result = finalize(scope, baseDraft, []);\n  }\n  revokeScope(scope);\n  if (scope.patches_) {\n    scope.patchListener_(scope.patches_, scope.inversePatches_);\n  }\n  return result !== NOTHING ? result : void 0;\n}\nfunction finalize(rootScope, value, path) {\n  if (isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  if (!state) {\n    each(\n      value,\n      (key, childValue) => finalizeProperty(rootScope, state, value, key, childValue, path),\n      true\n      // See #590, don't recurse into non-enumerable of non drafted objects\n    );\n    return value;\n  }\n  if (state.scope_ !== rootScope)\n    return value;\n  if (!state.modified_) {\n    maybeFreeze(rootScope, state.base_, true);\n    return state.base_;\n  }\n  if (!state.finalized_) {\n    state.finalized_ = true;\n    state.scope_.unfinalizedDrafts_--;\n    const result = state.copy_;\n    let resultEach = result;\n    let isSet2 = false;\n    if (state.type_ === 3 /* Set */) {\n      resultEach = new Set(result);\n      result.clear();\n      isSet2 = true;\n    }\n    each(\n      resultEach,\n      (key, childValue) => finalizeProperty(rootScope, state, result, key, childValue, path, isSet2)\n    );\n    maybeFreeze(rootScope, result, false);\n    if (path && rootScope.patches_) {\n      getPlugin(\"Patches\").generatePatches_(\n        state,\n        path,\n        rootScope.patches_,\n        rootScope.inversePatches_\n      );\n    }\n  }\n  return state.copy_;\n}\nfunction finalizeProperty(rootScope, parentState, targetObject, prop, childValue, rootPath, targetIsSet) {\n  if (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n    die(5);\n  if (isDraft(childValue)) {\n    const path = rootPath && parentState && parentState.type_ !== 3 /* Set */ && // Set objects are atomic since they have no keys.\n    !has(parentState.assigned_, prop) ? rootPath.concat(prop) : void 0;\n    const res = finalize(rootScope, childValue, path);\n    set(targetObject, prop, res);\n    if (isDraft(res)) {\n      rootScope.canAutoFreeze_ = false;\n    } else\n      return;\n  } else if (targetIsSet) {\n    targetObject.add(childValue);\n  }\n  if (isDraftable(childValue) && !isFrozen(childValue)) {\n    if (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n      return;\n    }\n    finalize(rootScope, childValue);\n    if (!parentState || !parentState.scope_.parent_)\n      maybeFreeze(rootScope, childValue);\n  }\n}\nfunction maybeFreeze(scope, value, deep = false) {\n  if (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n    freeze(value, deep);\n  }\n}\n\n// src/core/proxy.ts\nfunction createProxyProxy(base, parent) {\n  const isArray = Array.isArray(base);\n  const state = {\n    type_: isArray ? 1 /* Array */ : 0 /* Object */,\n    // Track which produce call this is associated with.\n    scope_: parent ? parent.scope_ : getCurrentScope(),\n    // True for both shallow and deep changes.\n    modified_: false,\n    // Used during finalization.\n    finalized_: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned_: {},\n    // The parent draft state.\n    parent_: parent,\n    // The base state.\n    base_: base,\n    // The base proxy.\n    draft_: null,\n    // set below\n    // The base copy with any updated values.\n    copy_: null,\n    // Called by the `produce` function.\n    revoke_: null,\n    isManual_: false\n  };\n  let target = state;\n  let traps = objectTraps;\n  if (isArray) {\n    target = [state];\n    traps = arrayTraps;\n  }\n  const { revoke, proxy } = Proxy.revocable(target, traps);\n  state.draft_ = proxy;\n  state.revoke_ = revoke;\n  return proxy;\n}\nvar objectTraps = {\n  get(state, prop) {\n    if (prop === DRAFT_STATE)\n      return state;\n    const source = latest(state);\n    if (!has(source, prop)) {\n      return readPropFromProto(state, source, prop);\n    }\n    const value = source[prop];\n    if (state.finalized_ || !isDraftable(value)) {\n      return value;\n    }\n    if (value === peek(state.base_, prop)) {\n      prepareCopy(state);\n      return state.copy_[prop] = createProxy(value, state);\n    }\n    return value;\n  },\n  has(state, prop) {\n    return prop in latest(state);\n  },\n  ownKeys(state) {\n    return Reflect.ownKeys(latest(state));\n  },\n  set(state, prop, value) {\n    const desc = getDescriptorFromProto(latest(state), prop);\n    if (desc?.set) {\n      desc.set.call(state.draft_, value);\n      return true;\n    }\n    if (!state.modified_) {\n      const current2 = peek(latest(state), prop);\n      const currentState = current2?.[DRAFT_STATE];\n      if (currentState && currentState.base_ === value) {\n        state.copy_[prop] = value;\n        state.assigned_[prop] = false;\n        return true;\n      }\n      if (is(value, current2) && (value !== void 0 || has(state.base_, prop)))\n        return true;\n      prepareCopy(state);\n      markChanged(state);\n    }\n    if (state.copy_[prop] === value && // special case: handle new props with value 'undefined'\n    (value !== void 0 || prop in state.copy_) || // special case: NaN\n    Number.isNaN(value) && Number.isNaN(state.copy_[prop]))\n      return true;\n    state.copy_[prop] = value;\n    state.assigned_[prop] = true;\n    return true;\n  },\n  deleteProperty(state, prop) {\n    if (peek(state.base_, prop) !== void 0 || prop in state.base_) {\n      state.assigned_[prop] = false;\n      prepareCopy(state);\n      markChanged(state);\n    } else {\n      delete state.assigned_[prop];\n    }\n    if (state.copy_) {\n      delete state.copy_[prop];\n    }\n    return true;\n  },\n  // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n  // the same guarantee in ES5 mode.\n  getOwnPropertyDescriptor(state, prop) {\n    const owner = latest(state);\n    const desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n    if (!desc)\n      return desc;\n    return {\n      writable: true,\n      configurable: state.type_ !== 1 /* Array */ || prop !== \"length\",\n      enumerable: desc.enumerable,\n      value: owner[prop]\n    };\n  },\n  defineProperty() {\n    die(11);\n  },\n  getPrototypeOf(state) {\n    return getPrototypeOf(state.base_);\n  },\n  setPrototypeOf() {\n    die(12);\n  }\n};\nvar arrayTraps = {};\neach(objectTraps, (key, fn) => {\n  arrayTraps[key] = function() {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\narrayTraps.deleteProperty = function(state, prop) {\n  if (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop)))\n    die(13);\n  return arrayTraps.set.call(this, state, prop, void 0);\n};\narrayTraps.set = function(state, prop, value) {\n  if (process.env.NODE_ENV !== \"production\" && prop !== \"length\" && isNaN(parseInt(prop)))\n    die(14);\n  return objectTraps.set.call(this, state[0], prop, value, state[0]);\n};\nfunction peek(draft, prop) {\n  const state = draft[DRAFT_STATE];\n  const source = state ? latest(state) : draft;\n  return source[prop];\n}\nfunction readPropFromProto(state, source, prop) {\n  const desc = getDescriptorFromProto(source, prop);\n  return desc ? `value` in desc ? desc.value : (\n    // This is a very special case, if the prop is a getter defined by the\n    // prototype, we should invoke it with the draft as context!\n    desc.get?.call(state.draft_)\n  ) : void 0;\n}\nfunction getDescriptorFromProto(source, prop) {\n  if (!(prop in source))\n    return void 0;\n  let proto = getPrototypeOf(source);\n  while (proto) {\n    const desc = Object.getOwnPropertyDescriptor(proto, prop);\n    if (desc)\n      return desc;\n    proto = getPrototypeOf(proto);\n  }\n  return void 0;\n}\nfunction markChanged(state) {\n  if (!state.modified_) {\n    state.modified_ = true;\n    if (state.parent_) {\n      markChanged(state.parent_);\n    }\n  }\n}\nfunction prepareCopy(state) {\n  if (!state.copy_) {\n    state.copy_ = shallowCopy(\n      state.base_,\n      state.scope_.immer_.useStrictShallowCopy_\n    );\n  }\n}\n\n// src/core/immerClass.ts\nvar Immer2 = class {\n  constructor(config) {\n    this.autoFreeze_ = true;\n    this.useStrictShallowCopy_ = false;\n    /**\n     * The `produce` function takes a value and a \"recipe function\" (whose\n     * return value often depends on the base state). The recipe function is\n     * free to mutate its first argument however it wants. All mutations are\n     * only ever applied to a __copy__ of the base state.\n     *\n     * Pass only a function to create a \"curried producer\" which relieves you\n     * from passing the recipe function every time.\n     *\n     * Only plain objects and arrays are made mutable. All other objects are\n     * considered uncopyable.\n     *\n     * Note: This function is __bound__ to its `Immer` instance.\n     *\n     * @param {any} base - the initial state\n     * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n     * @param {Function} patchListener - optional function that will be called with all the patches produced here\n     * @returns {any} a new state, or the initial state if nothing was modified\n     */\n    this.produce = (base, recipe, patchListener) => {\n      if (typeof base === \"function\" && typeof recipe !== \"function\") {\n        const defaultBase = recipe;\n        recipe = base;\n        const self = this;\n        return function curriedProduce(base2 = defaultBase, ...args) {\n          return self.produce(base2, (draft) => recipe.call(this, draft, ...args));\n        };\n      }\n      if (typeof recipe !== \"function\")\n        die(6);\n      if (patchListener !== void 0 && typeof patchListener !== \"function\")\n        die(7);\n      let result;\n      if (isDraftable(base)) {\n        const scope = enterScope(this);\n        const proxy = createProxy(base, void 0);\n        let hasError = true;\n        try {\n          result = recipe(proxy);\n          hasError = false;\n        } finally {\n          if (hasError)\n            revokeScope(scope);\n          else\n            leaveScope(scope);\n        }\n        usePatchesInScope(scope, patchListener);\n        return processResult(result, scope);\n      } else if (!base || typeof base !== \"object\") {\n        result = recipe(base);\n        if (result === void 0)\n          result = base;\n        if (result === NOTHING)\n          result = void 0;\n        if (this.autoFreeze_)\n          freeze(result, true);\n        if (patchListener) {\n          const p = [];\n          const ip = [];\n          getPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip);\n          patchListener(p, ip);\n        }\n        return result;\n      } else\n        die(1, base);\n    };\n    this.produceWithPatches = (base, recipe) => {\n      if (typeof base === \"function\") {\n        return (state, ...args) => this.produceWithPatches(state, (draft) => base(draft, ...args));\n      }\n      let patches, inversePatches;\n      const result = this.produce(base, recipe, (p, ip) => {\n        patches = p;\n        inversePatches = ip;\n      });\n      return [result, patches, inversePatches];\n    };\n    if (typeof config?.autoFreeze === \"boolean\")\n      this.setAutoFreeze(config.autoFreeze);\n    if (typeof config?.useStrictShallowCopy === \"boolean\")\n      this.setUseStrictShallowCopy(config.useStrictShallowCopy);\n  }\n  createDraft(base) {\n    if (!isDraftable(base))\n      die(8);\n    if (isDraft(base))\n      base = current(base);\n    const scope = enterScope(this);\n    const proxy = createProxy(base, void 0);\n    proxy[DRAFT_STATE].isManual_ = true;\n    leaveScope(scope);\n    return proxy;\n  }\n  finishDraft(draft, patchListener) {\n    const state = draft && draft[DRAFT_STATE];\n    if (!state || !state.isManual_)\n      die(9);\n    const { scope_: scope } = state;\n    usePatchesInScope(scope, patchListener);\n    return processResult(void 0, scope);\n  }\n  /**\n   * Pass true to automatically freeze all copies created by Immer.\n   *\n   * By default, auto-freezing is enabled.\n   */\n  setAutoFreeze(value) {\n    this.autoFreeze_ = value;\n  }\n  /**\n   * Pass true to enable strict shallow copy.\n   *\n   * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n   */\n  setUseStrictShallowCopy(value) {\n    this.useStrictShallowCopy_ = value;\n  }\n  applyPatches(base, patches) {\n    let i;\n    for (i = patches.length - 1; i >= 0; i--) {\n      const patch = patches[i];\n      if (patch.path.length === 0 && patch.op === \"replace\") {\n        base = patch.value;\n        break;\n      }\n    }\n    if (i > -1) {\n      patches = patches.slice(i + 1);\n    }\n    const applyPatchesImpl = getPlugin(\"Patches\").applyPatches_;\n    if (isDraft(base)) {\n      return applyPatchesImpl(base, patches);\n    }\n    return this.produce(\n      base,\n      (draft) => applyPatchesImpl(draft, patches)\n    );\n  }\n};\nfunction createProxy(value, parent) {\n  const draft = isMap(value) ? getPlugin(\"MapSet\").proxyMap_(value, parent) : isSet(value) ? getPlugin(\"MapSet\").proxySet_(value, parent) : createProxyProxy(value, parent);\n  const scope = parent ? parent.scope_ : getCurrentScope();\n  scope.drafts_.push(draft);\n  return draft;\n}\n\n// src/core/current.ts\nfunction current(value) {\n  if (!isDraft(value))\n    die(10, value);\n  return currentImpl(value);\n}\nfunction currentImpl(value) {\n  if (!isDraftable(value) || isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  let copy;\n  if (state) {\n    if (!state.modified_)\n      return state.base_;\n    state.finalized_ = true;\n    copy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_);\n  } else {\n    copy = shallowCopy(value, true);\n  }\n  each(copy, (key, childValue) => {\n    set(copy, key, currentImpl(childValue));\n  });\n  if (state) {\n    state.finalized_ = false;\n  }\n  return copy;\n}\n\n// src/plugins/patches.ts\nfunction enablePatches() {\n  const errorOffset = 16;\n  if (process.env.NODE_ENV !== \"production\") {\n    errors.push(\n      'Sets cannot have \"replace\" patches.',\n      function(op) {\n        return \"Unsupported patch operation: \" + op;\n      },\n      function(path) {\n        return \"Cannot apply patch, path doesn't resolve: \" + path;\n      },\n      \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n    );\n  }\n  const REPLACE = \"replace\";\n  const ADD = \"add\";\n  const REMOVE = \"remove\";\n  function generatePatches_(state, basePath, patches, inversePatches) {\n    switch (state.type_) {\n      case 0 /* Object */:\n      case 2 /* Map */:\n        return generatePatchesFromAssigned(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n      case 1 /* Array */:\n        return generateArrayPatches(state, basePath, patches, inversePatches);\n      case 3 /* Set */:\n        return generateSetPatches(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n    }\n  }\n  function generateArrayPatches(state, basePath, patches, inversePatches) {\n    let { base_, assigned_ } = state;\n    let copy_ = state.copy_;\n    if (copy_.length < base_.length) {\n      ;\n      [base_, copy_] = [copy_, base_];\n      [patches, inversePatches] = [inversePatches, patches];\n    }\n    for (let i = 0; i < base_.length; i++) {\n      if (assigned_[i] && copy_[i] !== base_[i]) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REPLACE,\n          path,\n          // Need to maybe clone it, as it can in fact be the original value\n          // due to the base/copy inversion at the start of this function\n          value: clonePatchValueIfNeeded(copy_[i])\n        });\n        inversePatches.push({\n          op: REPLACE,\n          path,\n          value: clonePatchValueIfNeeded(base_[i])\n        });\n      }\n    }\n    for (let i = base_.length; i < copy_.length; i++) {\n      const path = basePath.concat([i]);\n      patches.push({\n        op: ADD,\n        path,\n        // Need to maybe clone it, as it can in fact be the original value\n        // due to the base/copy inversion at the start of this function\n        value: clonePatchValueIfNeeded(copy_[i])\n      });\n    }\n    for (let i = copy_.length - 1; base_.length <= i; --i) {\n      const path = basePath.concat([i]);\n      inversePatches.push({\n        op: REMOVE,\n        path\n      });\n    }\n  }\n  function generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n    const { base_, copy_ } = state;\n    each(state.assigned_, (key, assignedValue) => {\n      const origValue = get(base_, key);\n      const value = get(copy_, key);\n      const op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD;\n      if (origValue === value && op === REPLACE)\n        return;\n      const path = basePath.concat(key);\n      patches.push(op === REMOVE ? { op, path } : { op, path, value });\n      inversePatches.push(\n        op === ADD ? { op: REMOVE, path } : op === REMOVE ? { op: ADD, path, value: clonePatchValueIfNeeded(origValue) } : { op: REPLACE, path, value: clonePatchValueIfNeeded(origValue) }\n      );\n    });\n  }\n  function generateSetPatches(state, basePath, patches, inversePatches) {\n    let { base_, copy_ } = state;\n    let i = 0;\n    base_.forEach((value) => {\n      if (!copy_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REMOVE,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: ADD,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n    i = 0;\n    copy_.forEach((value) => {\n      if (!base_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: ADD,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: REMOVE,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n  }\n  function generateReplacementPatches_(baseValue, replacement, patches, inversePatches) {\n    patches.push({\n      op: REPLACE,\n      path: [],\n      value: replacement === NOTHING ? void 0 : replacement\n    });\n    inversePatches.push({\n      op: REPLACE,\n      path: [],\n      value: baseValue\n    });\n  }\n  function applyPatches_(draft, patches) {\n    patches.forEach((patch) => {\n      const { path, op } = patch;\n      let base = draft;\n      for (let i = 0; i < path.length - 1; i++) {\n        const parentType = getArchtype(base);\n        let p = path[i];\n        if (typeof p !== \"string\" && typeof p !== \"number\") {\n          p = \"\" + p;\n        }\n        if ((parentType === 0 /* Object */ || parentType === 1 /* Array */) && (p === \"__proto__\" || p === \"constructor\"))\n          die(errorOffset + 3);\n        if (typeof base === \"function\" && p === \"prototype\")\n          die(errorOffset + 3);\n        base = get(base, p);\n        if (typeof base !== \"object\")\n          die(errorOffset + 2, path.join(\"/\"));\n      }\n      const type = getArchtype(base);\n      const value = deepClonePatchValue(patch.value);\n      const key = path[path.length - 1];\n      switch (op) {\n        case REPLACE:\n          switch (type) {\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              die(errorOffset);\n            default:\n              return base[key] = value;\n          }\n        case ADD:\n          switch (type) {\n            case 1 /* Array */:\n              return key === \"-\" ? base.push(value) : base.splice(key, 0, value);\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              return base.add(value);\n            default:\n              return base[key] = value;\n          }\n        case REMOVE:\n          switch (type) {\n            case 1 /* Array */:\n              return base.splice(key, 1);\n            case 2 /* Map */:\n              return base.delete(key);\n            case 3 /* Set */:\n              return base.delete(patch.value);\n            default:\n              return delete base[key];\n          }\n        default:\n          die(errorOffset + 1, op);\n      }\n    });\n    return draft;\n  }\n  function deepClonePatchValue(obj) {\n    if (!isDraftable(obj))\n      return obj;\n    if (Array.isArray(obj))\n      return obj.map(deepClonePatchValue);\n    if (isMap(obj))\n      return new Map(\n        Array.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n      );\n    if (isSet(obj))\n      return new Set(Array.from(obj).map(deepClonePatchValue));\n    const cloned = Object.create(getPrototypeOf(obj));\n    for (const key in obj)\n      cloned[key] = deepClonePatchValue(obj[key]);\n    if (has(obj, DRAFTABLE))\n      cloned[DRAFTABLE] = obj[DRAFTABLE];\n    return cloned;\n  }\n  function clonePatchValueIfNeeded(obj) {\n    if (isDraft(obj)) {\n      return deepClonePatchValue(obj);\n    } else\n      return obj;\n  }\n  loadPlugin(\"Patches\", {\n    applyPatches_,\n    generatePatches_,\n    generateReplacementPatches_\n  });\n}\n\n// src/plugins/mapset.ts\nfunction enableMapSet() {\n  class DraftMap extends Map {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 2 /* Map */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        assigned_: void 0,\n        base_: target,\n        draft_: this,\n        isManual_: false,\n        revoked_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(key) {\n      return latest(this[DRAFT_STATE]).has(key);\n    }\n    set(key, value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!latest(state).has(key) || latest(state).get(key) !== value) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_.set(key, true);\n        state.copy_.set(key, value);\n        state.assigned_.set(key, true);\n      }\n      return this;\n    }\n    delete(key) {\n      if (!this.has(key)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareMapCopy(state);\n      markChanged(state);\n      if (state.base_.has(key)) {\n        state.assigned_.set(key, false);\n      } else {\n        state.assigned_.delete(key);\n      }\n      state.copy_.delete(key);\n      return true;\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_ = /* @__PURE__ */ new Map();\n        each(state.base_, (key) => {\n          state.assigned_.set(key, false);\n        });\n        state.copy_.clear();\n      }\n    }\n    forEach(cb, thisArg) {\n      const state = this[DRAFT_STATE];\n      latest(state).forEach((_value, key, _map) => {\n        cb.call(thisArg, this.get(key), key, this);\n      });\n    }\n    get(key) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      const value = latest(state).get(key);\n      if (state.finalized_ || !isDraftable(value)) {\n        return value;\n      }\n      if (value !== state.base_.get(key)) {\n        return value;\n      }\n      const draft = createProxy(value, state);\n      prepareMapCopy(state);\n      state.copy_.set(key, draft);\n      return draft;\n    }\n    keys() {\n      return latest(this[DRAFT_STATE]).keys();\n    }\n    values() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.values(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value\n          };\n        }\n      };\n    }\n    entries() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.entries(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value: [r.value, value]\n          };\n        }\n      };\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.entries();\n    }\n  }\n  function proxyMap_(target, parent) {\n    return new DraftMap(target, parent);\n  }\n  function prepareMapCopy(state) {\n    if (!state.copy_) {\n      state.assigned_ = /* @__PURE__ */ new Map();\n      state.copy_ = new Map(state.base_);\n    }\n  }\n  class DraftSet extends Set {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 3 /* Set */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        base_: target,\n        draft_: this,\n        drafts_: /* @__PURE__ */ new Map(),\n        revoked_: false,\n        isManual_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!state.copy_) {\n        return state.base_.has(value);\n      }\n      if (state.copy_.has(value))\n        return true;\n      if (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n        return true;\n      return false;\n    }\n    add(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!this.has(value)) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.add(value);\n      }\n      return this;\n    }\n    delete(value) {\n      if (!this.has(value)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      markChanged(state);\n      return state.copy_.delete(value) || (state.drafts_.has(value) ? state.copy_.delete(state.drafts_.get(value)) : (\n        /* istanbul ignore next */\n        false\n      ));\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.clear();\n      }\n    }\n    values() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.values();\n    }\n    entries() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.entries();\n    }\n    keys() {\n      return this.values();\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.values();\n    }\n    forEach(cb, thisArg) {\n      const iterator = this.values();\n      let result = iterator.next();\n      while (!result.done) {\n        cb.call(thisArg, result.value, result.value, this);\n        result = iterator.next();\n      }\n    }\n  }\n  function proxySet_(target, parent) {\n    return new DraftSet(target, parent);\n  }\n  function prepareSetCopy(state) {\n    if (!state.copy_) {\n      state.copy_ = /* @__PURE__ */ new Set();\n      state.base_.forEach((value) => {\n        if (isDraftable(value)) {\n          const draft = createProxy(value, state);\n          state.drafts_.set(value, draft);\n          state.copy_.add(draft);\n        } else {\n          state.copy_.add(value);\n        }\n      });\n    }\n  }\n  function assertUnrevoked(state) {\n    if (state.revoked_)\n      die(3, JSON.stringify(latest(state)));\n  }\n  loadPlugin(\"MapSet\", { proxyMap_, proxySet_ });\n}\n\n// src/immer.ts\nvar immer = new Immer2();\nvar produce = immer.produce;\nvar produceWithPatches = immer.produceWithPatches.bind(\n  immer\n);\nvar setAutoFreeze = immer.setAutoFreeze.bind(immer);\nvar setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer);\nvar applyPatches = immer.applyPatches.bind(immer);\nvar createDraft = immer.createDraft.bind(immer);\nvar finishDraft = immer.finishDraft.bind(immer);\nfunction castDraft(value) {\n  return value;\n}\nfunction castImmutable(value) {\n  return value;\n}\nexport {\n  Immer2 as Immer,\n  applyPatches,\n  castDraft,\n  castImmutable,\n  createDraft,\n  current,\n  enableMapSet,\n  enablePatches,\n  finishDraft,\n  freeze,\n  DRAFTABLE as immerable,\n  isDraft,\n  isDraftable,\n  NOTHING as nothing,\n  original,\n  produce,\n  produceWithPatches,\n  setAutoFreeze,\n  setUseStrictShallowCopy\n};\n//# sourceMappingURL=immer.mjs.map","const { __ } = wp.i18n;\r\nconst { PanelBody, PanelRow, FormToggle } = wp.components;\r\nconst BControls = ({ attributes: { options }, updateOption }) => {\r\n  const { controls } = options;\r\n  const controlSettings = [\r\n    {\r\n      label: \"Play Large\",\r\n      control: \"play-large\",\r\n    },\r\n    {\r\n      label: \"Restart\",\r\n      control: \"restart\",\r\n    },\r\n    {\r\n      label: \"Rewind\",\r\n      control: \"rewind\",\r\n    },\r\n    {\r\n      label: \"Play\",\r\n      control: \"play\",\r\n    },\r\n    {\r\n      label: \"Fast Forward\",\r\n      control: \"fast-forward\",\r\n    },\r\n    {\r\n      label: \"Progress\",\r\n      control: \"progress\",\r\n    },\r\n    {\r\n      label: \"Current Time\",\r\n      control: \"current-time\",\r\n    },\r\n    {\r\n      label: \"Duration\",\r\n      control: \"duration\",\r\n    },\r\n    {\r\n      label: \"Mute\",\r\n      control: \"mute\",\r\n    },\r\n    {\r\n      label: \"Volume\",\r\n      control: \"volume\",\r\n    },\r\n    {\r\n      label: \"PIP\",\r\n      control: \"pip\",\r\n    },\r\n    {\r\n      label: \"Airplay\",\r\n      control: \"airplay\",\r\n    },\r\n    {\r\n      label: \"Captions\",\r\n      control: \"captions\",\r\n    },\r\n    {\r\n      label: \"Settings\",\r\n      control: \"settings\",\r\n    },\r\n    {\r\n      label: \"Download\",\r\n      control: \"download\",\r\n    },\r\n    {\r\n      label: \"Fullscreen\",\r\n      control: \"fullscreen\",\r\n    },\r\n  ];\r\n  const handleControl = (control) => {\r\n    const originalControls = controlSettings.map((item) => item.control);\r\n    let newControls;\r\n    if (controls.includes(control)) {\r\n      newControls = controls.filter((item) => item !== control);\r\n    } else {\r\n      newControls = originalControls.filter((item) => {\r\n        if (controls.includes(item) || item === control) {\r\n          return true;\r\n        }\r\n      });\r\n    }\r\n    updateOption({ controls: newControls });\r\n  };\r\n  return (\r\n    <PanelBody>\r\n      {controlSettings.map(({ label, control }) => {\r\n        return (\r\n          <PanelRow key={control}>\r\n            <label htmlFor={control} className=\"label\">\r\n              {__(label, \"h5vp\")}\r\n            </label>\r\n            <FormToggle id={control} checked={controls.includes(control)} onChange={() => handleControl(control)} />\r\n          </PanelRow>\r\n        );\r\n      })}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default BControls;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = wp.components;","const { __ } = wp.i18n;\r\nconst { Fragment } = wp.element;\r\nconst { MediaUpload, MediaUploadCheck } = wp.blockEditor;\r\nconst { Button, PanelRow, TextControl } = wp.components;\r\nfunction BMediaUpload({ value, type = [], onSelect, placeholder }) {\r\n  return (\r\n    <div className=\"bMediaUpload\">\r\n      <Fragment>\r\n        <MediaUploadCheck>\r\n          <MediaUpload\r\n            type={type}\r\n            onSelect={(image) => onSelect(image.url)}\r\n            render={({ open }) => <Button className=\"button button-primary\" onClick={open} icon={\"upload\"}></Button>}\r\n          />\r\n        </MediaUploadCheck>\r\n        <PanelRow className=\"width-100\">\r\n          <TextControl value={value} onChange={(fileUrl) => onSelect(fileUrl)} placeholder={placeholder} />\r\n        </PanelRow>\r\n      </Fragment>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BMediaUpload;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = React;","import { useState, useEffect } from \"react\";\r\n\r\nconst useWPAjax = (action, params = {}, set = false) => {\r\n  const [isLoading, setIsLoading] = useState(!set);\r\n  const [isError, setIsError] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [data, setData] = useState(null);\r\n\r\n  if (!wp.ajax) {\r\n    // eslint-disable-next-line no-console\r\n    console.error(\"Please use wp-util as a dependency\");\r\n    return;\r\n  }\r\n\r\n  const sendRequest = (payload = {}) => {\r\n    setIsLoading(true);\r\n    setIsError(false);\r\n    setError(null);\r\n    wp.ajax\r\n      .post(action, { ...params, ...payload })\r\n      .done((res) => {\r\n        setData(res);\r\n        setIsLoading(false);\r\n      })\r\n      .fail((error) => {\r\n        setIsError(true);\r\n        setError(error);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const request = async (payload = {}) => {\r\n    sendRequest(payload);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!set) {\r\n      sendRequest(params);\r\n    }\r\n  }, []);\r\n\r\n  return {\r\n    data,\r\n    saveData: request,\r\n    refetch: request,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n  };\r\n};\r\nexport default useWPAjax;\r\n","function htmlToElement(html) {\r\n  let temp = document.createElement(\"template\");\r\n  temp.innerHTML = html;\r\n  return temp.content.firstChild;\r\n}\r\n\r\nexport default htmlToElement;\r\n","function isYoutubeURL(input) {\r\n  // Regular expressions to check for YouTube URLs and extract the video ID\r\n  const youtubeURLRegex = /^(?:(?:https?:\\/\\/)?(?:www\\.)?(?:youtube\\.com|youtu\\.be)\\/(?:watch\\?v=)?([a-zA-Z0-9_-]+))$/;\r\n  const youtubeIDRegex = /^[a-zA-Z0-9_-]{11}$/;\r\n\r\n  if (youtubeURLRegex.test(input)) {\r\n    return input;\r\n  } else if (youtubeIDRegex.test(input)) {\r\n    return `https://www.youtube.com/watch?v=${input}`;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default isYoutubeURL;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = wp.i18n;","import { __ } from \"@wordpress/i18n\";\r\n\r\nconst BControlPro = ({ label, className, onChange, isPremium = false, Component, setOpen = () => {}, ...restProps }) => {\r\n  const labelMiddleWare = (label) => {\r\n    return isPremium ? (\r\n      label\r\n    ) : (\r\n      <>\r\n        <span className=\"bplOpacity75\">{label}</span> <span className=\"labelPro\">{__(\"Pro\", \"text-domain\")}</span>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Component\r\n      className={`${className} ${isPremium ? \"\" : \"bplProIdentifier\"}`}\r\n      label={labelMiddleWare(label)}\r\n      onChange={(val) => {\r\n        if (isPremium) {\r\n          onChange(val);\r\n        } else {\r\n          setOpen(true);\r\n        }\r\n      }}\r\n      isPremium={isPremium}\r\n      {...restProps}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BControlPro;\r\n","const { Fragment, useEffect } = wp.element;\r\nconst { PanelBody, PanelRow, Button, __experimentalNumberControl: NumberControl, TextControl, SelectControl, TextareaControl, ButtonGroup } = wp.components;\r\nimport { ToggleControl } from \"@wordpress/components\";\r\nconst { __ } = wp.i18n;\r\n\r\nimport BMediaUpload from \"../../BMediaUpload\";\r\nimport { isYoutubeURL } from \"../../../../../../wp-utils/v1\";\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\n\r\nconst Settings = ({ attributes, setAttributes, handleOptions, handleFeatures, isPremium, name }) => {\r\n  const { source, poster, library, protected: bProtected, password, protectedText, options, features } = attributes;\r\n\r\n  const { autoplay, muted, hideControls, seekTime, preload, ratio, ads, playsinline, resetOnEnd, loop, urls } = options;\r\n\r\n  const { hideYoutubeUI, playWhenVisible, disablePause, thumbInPause, sticky, startTime, hideLoadingPlaceholder } = features;\r\n\r\n  // console.log(features, options);\r\n\r\n  useEffect(() => {\r\n    if (isYoutubeURL(source)) {\r\n      setAttributes({ library: \"youtube\" });\r\n    }\r\n  }, [source]);\r\n\r\n  return (\r\n    <PanelBody title={__(\"Settings\", \"h5vp\")} initialOpen={false}>\r\n      <BMediaUpload type={[\"video\"]} onSelect={(source) => setAttributes({ source })} value={source} placeholder=\"video source\" />\r\n\r\n      <BMediaUpload\r\n        type={[\"image\"]}\r\n        onSelect={(poster) => {\r\n          setAttributes({ poster });\r\n        }}\r\n        value={poster}\r\n        placeholder=\"video Thumbnails\"\r\n        help=\"thumbnail will show on frontend\"\r\n      />\r\n\r\n      {/* <ToggleControl disabled={!isPremium} /> */}\r\n      <BControlPro\r\n        Component={ToggleControl}\r\n        isPremium={isPremium}\r\n        label={__(\"Custom Downlaod URL?\", \"h5vp\")}\r\n        id=\"isCDURL\"\r\n        checked={urls.enabled}\r\n        onChange={() => handleOptions({ enabled: !urls.enabled }, \"urls\")}\r\n      />\r\n\r\n      {urls.enabled && <TextControl value={urls.download} onChange={(download) => handleOptions({ download }, \"urls\")} />}\r\n\r\n      <BControlPro\r\n        Component={ToggleControl}\r\n        isPremium={true}\r\n        help={autoplay ? __(\"muted should be enabled\", \"h5vp\") : \"\"}\r\n        label={__(\"Autoplay\", \"h5vp\")}\r\n        id=\"autoplay\"\r\n        checked={autoplay}\r\n        onChange={() => handleOptions({ autoplay: !autoplay })}\r\n      />\r\n\r\n      <ToggleControl label={__(\"Muted\", \"h5vp\")} id=\"muted\" checked={muted} onChange={() => handleOptions({ muted: !muted })} />\r\n\r\n      <ToggleControl label={__(\"Repeat\", \"h5vp\")} id=\"repeat\" checked={loop.active} onChange={() => handleOptions({ loop: { ...loop, active: !loop.active } })} />\r\n\r\n      {!loop.active && <ToggleControl label={__(\"Reset On End\", \"h5vp\")} id=\"resetOnEnd\" checked={resetOnEnd} onChange={() => handleOptions({ resetOnEnd: !resetOnEnd })} />}\r\n\r\n      <ToggleControl label={__(\"Auto Hide Control\", \"h5vp\")} id=\"autoHideControl\" checked={hideControls} onChange={() => handleOptions({ hideControls: !hideControls })} />\r\n\r\n      <ToggleControl\r\n        label={__(\"Hide loading placeholder\", \"h5vp\")}\r\n        id=\"hideLoadingPlaceholder\"\r\n        checked={hideLoadingPlaceholder}\r\n        onChange={() => handleFeatures({ hideLoadingPlaceholder: !hideLoadingPlaceholder })}\r\n      />\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Autoplay When Visible on Screen\", \"h5vp\")}\r\n        id=\"playWhenVisible\"\r\n        checked={playWhenVisible}\r\n        onChange={() => handleFeatures({ playWhenVisible: !playWhenVisible })}\r\n      />\r\n\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Disable Pause\", \"h5vp\")}\r\n        id=\"disablePause\"\r\n        checked={disablePause}\r\n        onChange={() => handleFeatures({ disablePause: !disablePause })}\r\n      />\r\n\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Allow inline playback on iOS\", \"h5vp\")}\r\n        checked={playsinline}\r\n        onChange={() => handleOptions({ playsinline: !playsinline })}\r\n      />\r\n\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Show thumbnail on pause\", \"h5vp\")}\r\n        id=\"thumbInPause\"\r\n        checked={thumbInPause.enabled}\r\n        onChange={() => handleFeatures({ enabled: !thumbInPause.enabled }, \"thumbInPause\")}\r\n      />\r\n\r\n      {thumbInPause.enabled && poster && (\r\n        <PanelRow>\r\n          <label htmlFor=\"thumbInPause\" className=\"label\">\r\n            {__(\"Thumb Style\", \"h5vp\")}\r\n          </label>\r\n          <ButtonGroup>\r\n            <Button onClick={() => handleFeatures({ type: \"default\" }, \"thumbInPause\")} className={`button ${thumbInPause.type == \"default\" ? \"button-primary\" : \"\"}`}>\r\n              {__(\"Default\", \"h5vp\")}\r\n            </Button>\r\n            <Button onClick={() => handleFeatures({ type: \"custom\" }, \"thumbInPause\")} className={`button ${thumbInPause.type == \"custom\" ? \"button-primary\" : \"\"}`}>\r\n              {__(\"Custom\", \"h5vp\")}\r\n            </Button>\r\n          </ButtonGroup>\r\n        </PanelRow>\r\n      )}\r\n\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Sticky On Scroll\", \"h5vp\")}\r\n        id=\"sticky\"\r\n        checked={sticky.enabled}\r\n        onChange={() => handleFeatures({ enabled: !sticky.enabled }, \"sticky\")}\r\n      />\r\n\r\n      {sticky.enabled && (\r\n        <SelectControl\r\n          labelPosition=\"side\"\r\n          label={__(\"Sticky Position\", \"h5vp\")}\r\n          value={sticky.position}\r\n          options={[\r\n            { label: \"Top Right\", value: \"top_right\" },\r\n            { label: \"Bottom Right\", value: \"bottom_right\" },\r\n          ]}\r\n          onChange={(position) => {\r\n            handleFeatures({ position }, \"sticky\");\r\n          }}\r\n        />\r\n      )}\r\n\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={NumberControl}\r\n        label={__(\"Seek Time\", \"h5vp\")}\r\n        labelPosition=\"edge\"\r\n        isShiftStepEnabled={true}\r\n        onChange={(seekTime) => handleOptions({ seekTime: parseInt(seekTime) })}\r\n        shiftStep={1}\r\n        value={seekTime}\r\n      />\r\n\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={NumberControl}\r\n        label={__(\"Start Time\", \"h5vp\")}\r\n        isShiftStepEnabled={true}\r\n        onChange={(startTime) => handleFeatures({ startTime: parseFloat(startTime) })}\r\n        shiftStep={1}\r\n        step={1}\r\n        labelPosition=\"side\"\r\n        value={parseFloat(startTime)}\r\n      />\r\n\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={SelectControl}\r\n        labelPosition=\"side\"\r\n        value={preload}\r\n        label={__(\"Preload\", \"h5vp\")}\r\n        options={[\r\n          { label: \"none\", value: \"none\" },\r\n          { label: \"metadata\", value: \"metadata\" },\r\n          { label: \"auto\", value: \"auto\" },\r\n        ]}\r\n        onChange={(preload) => {\r\n          handleOptions({ preload });\r\n        }}\r\n      />\r\n\r\n      <TextControl label={__(\"Video Ratio\", \"h5vp\")} onChange={(ratio) => handleOptions({ ratio })} value={ratio} placeholder={\"16:9\"} />\r\n\r\n      {/* <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Password Protected\", \"h5vp\")}\r\n        checked={bProtected}\r\n        onChange={() => setAttributes({ protected: !bProtected })}\r\n      /> */}\r\n      {/* {bProtected && (\r\n        <Fragment>\r\n          <TextControl label={__(\"Password\", \"h5vp\")} value={password} onChange={(password) => setAttributes({ password })} />\r\n\r\n          <TextareaControl label={__(\"Protected Text\", \"h5vp\")} value={protectedText} onChange={(protectedText) => setAttributes({ protectedText })} />\r\n        </Fragment>\r\n      )} */}\r\n\r\n      {/* <PanelRow>\r\n                          <label htmlFor=\"saveState\" className=\"label\">\r\n                            {__(\"Save State\", \"h5vp\")}\r\n                          </label>\r\n                          <FormToggle id=\"saveState\" checked={saveState} onChange={() => setAttributes({ saveState: !saveState })} />\r\n                        </PanelRow> */}\r\n\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={TextareaControl}\r\n        label={__(\"Google VAST TagURL\", \"h5vp\")}\r\n        id=\"vastTag\"\r\n        value={ads.tagUrl}\r\n        onChange={(tagUrl) => handleOptions({ ads: { ...ads, tagUrl } })}\r\n      />\r\n\r\n      {isYoutubeURL(source) && (\r\n        <ToggleControl\r\n          BControlPro\r\n          isPremium={isPremium}\r\n          Component={ToggleControl}\r\n          label={__(\"Hide Youtube UI (Experimental, check it's working or not for you)\", \"h5vp\")}\r\n          id=\"hideYoutubeUI\"\r\n          checked={hideYoutubeUI}\r\n          onChange={() => handleFeatures({ hideYoutubeUI: !hideYoutubeUI })}\r\n        />\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","const { useState, Fragment } = wp.element;\nconst { Dropdown, ColorPicker, Button, PanelRow } = wp.components;\nconst { __ } = wp.i18n;\n// import styles from \"./styles.module.scss\";\n\n/**\n *\n * @props\n * value: (String) --required\n * defaultColor: (String)\n * onChange: (Function) required\n * className: (String)\n * disableAlpha: (Boolean)\n * @boxPosition: 'top left' (String)\n *\n * return rgba color code\n */\nconst BColor = (props) => {\n  const { value, title = \"\", defaultColor, label, onChange, className, disableAlpha, boxPosition = \"top left\", globalColors = [] } = props;\n  const [state, setState] = useState(value);\n  return (\n    <PanelRow>\n      {label && (\n        <label htmlFor=\"\" className=\"display-block\">\n          {label}\n        </label>\n      )}\n      <Dropdown\n        position={boxPosition}\n        renderToggle={({ isOpen, onToggle }) => {\n          return (\n            <div style={{ display: \"flex\" }}>\n              {defaultColor && defaultColor != state && (\n                <Button\n                  icon=\"image-rotate\"\n                  className={\"bColorReset\"}\n                  onClick={() => {\n                    onChange(defaultColor);\n                    setState(defaultColor);\n                  }}\n                />\n              )}\n              <div className={\"BColorButtonContainer\"}>\n                <button\n                  className={\"BColorButton\"}\n                  title={title}\n                  onClick={onToggle}\n                  aria-expanded={isOpen}\n                  style={value ? { backgroundColor: value } : { backgroundColor: \"transparent\" }}\n                />\n              </div>\n            </div>\n          );\n        }}\n        renderContent={({ isOpen, onToggle, onClose }) => (\n          <Fragment>\n            <ColorPicker\n              color={value || \"\"}\n              onChangeComplete={(c) => {\n                onChange(`rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`);\n                setState(c.hex);\n              }}\n              disableAlpha={disableAlpha ? disableAlpha : false}\n            />\n            {globalColors.length > 0 && (\n              <div style={{ display: \"flex\" }} className=\"globalColors\">\n                {globalColors.map((color, index) => {\n                  return (\n                    <div key={index} className={\"BColorButtonContainer\"}>\n                      <button\n                        className={\"BColorButton\"}\n                        onClick={() => {\n                          onChange(color.color);\n                          setState(color);\n                          onClose;\n                        }}\n                        aria-expanded={isOpen}\n                        style={value ? { backgroundColor: color.color } : { backgroundColor: \"transparent\" }}\n                      />\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </Fragment>\n        )}\n      />\n    </PanelRow>\n  );\n};\n\nexport default BColor;\n","import { Fragment, useState, useEffect } from \"react\";\r\nimport { PanelBody, PanelRow, TextControl, RadioControl, RangeControl, SelectControl, ToggleControl, __experimentalUnitControl as UnitControl } from \"@wordpress/components\";\r\nconst { __ } = wp.i18n;\r\nimport { produce } from \"immer\";\r\n\r\nimport BColor from \"../../BColor\";\r\nimport BMediaUpload from \"../../BMediaUpload\";\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\n\r\nconst Overlay = ({ attributes, handleFeatures, isPremium }) => {\r\n  const { enabled, items } = attributes.features.overlay;\r\n  const [index] = useState(0);\r\n  const { color, backgroundColor, fontSize, link, logo, text, position, type, opacity } = items[index] || {};\r\n\r\n  const handleOverlay = (value) => {\r\n    handleFeatures(\r\n      produce(attributes.features.overlay, (draft) => {\r\n        draft.enabled = enabled;\r\n        Object.keys(value).map((key) => {\r\n          draft.items[index][key] = value[key];\r\n        });\r\n      }),\r\n      \"overlay\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <PanelBody title={__(\"Overlay\", \"h5vp\")} initialOpen={false}>\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        id=\"overlay\"\r\n        label={__(\"Overlay\", \"h5vp\")}\r\n        checked={enabled}\r\n        onChange={() => handleFeatures({ enabled: !enabled }, \"overlay\")}\r\n      />\r\n\r\n      {enabled && (\r\n        <Fragment>\r\n          {/* <ToggleControl id=\"overlayTypeText\" label={__(\"Text\", \"h5vp\")} checked={type === \"text\"} onChange={() => handleOverlay({ type: \"text\" })} />\r\n\r\n          <ToggleControl label={__(\"Logo\", \"h5vp\")} id=\"overlayTypeLogo\" checked={type === \"logo\"} onChange={() => handleOverlay({ type: \"logo\" })} /> */}\r\n\r\n          <SelectControl\r\n            label={__(\"Type\", \"h5vp\")}\r\n            value={type}\r\n            options={[\r\n              { label: \"Text\", value: \"text\" },\r\n              { label: \"Logo\", value: \"logo\" },\r\n            ]}\r\n            onChange={(type) => handleOverlay({ type })}\r\n            labelPosition=\"side\"\r\n          />\r\n\r\n          <SelectControl\r\n            label={__(\"Overlay Position\", \"h5vp\")}\r\n            value={position}\r\n            options={[\r\n              { label: \"Top Right\", value: \"top_right\" },\r\n              { label: \"Top Left\", value: \"top_left\" },\r\n            ]}\r\n            onChange={(value) => handleOverlay({ position: value })}\r\n            labelPosition=\"side\"\r\n          />\r\n\r\n          {type === \"text\" && <TextControl label={__(\"Text\", \"h5vp\")} value={text} onChange={(text) => handleOverlay({ text })} />}\r\n\r\n          {type === \"logo\" && (\r\n            <>\r\n              <label>{__(\"Logo\", \"h5vp\")}</label>\r\n              <BMediaUpload label={__(\"Logo\", \"h5vp\")} type={[\"image/jpeg\"]} onSelect={(logo) => handleOverlay({ logo })} value={logo} />\r\n            </>\r\n          )}\r\n\r\n          <TextControl label={__(\"Link\", \"h5vp\")} value={link} onChange={(link) => handleOverlay({ link })} />\r\n\r\n          {type === \"text\" && (\r\n            <Fragment>\r\n              <UnitControl label={__(\"Font Size\", \"h5vp\")} value={fontSize} onChange={(fontSize) => handleOverlay({ fontSize })} />\r\n\r\n              <BColor label={__(\"Color\", \"h5vp\")} defaultColor=\"#ffffff\" value={color} onChange={(color) => handleOverlay({ color })} />\r\n\r\n              <BColor label={__(\"Background Color\", \"h5vp\")} defaultColor=\"#333\" value={backgroundColor} onChange={(c) => handleOverlay({ backgroundColor: c })} />\r\n            </Fragment>\r\n          )}\r\n          <RangeControl label=\"Opacity\" value={opacity} onChange={(value) => handleOverlay({ opacity: parseFloat(value) })} min={0.01} max={1} step={0.01} />\r\n        </Fragment>\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Overlay;\r\n","import React from \"react\";\r\nimport { PanelRow } from \"@wordpress/components\";\r\n\r\nconst PremiumText = ({ isPremium }) => {\r\n  return isPremium ? (\r\n    <></>\r\n  ) : (\r\n    <PanelRow>\r\n      <p className=\"text-danger\">Premium Feature</p>\r\n    </PanelRow>\r\n  );\r\n};\r\n\r\nexport default PremiumText;\r\n","const { PanelBody, PanelRow, Button, ToggleControl, TextControl } = wp.components;\r\nconst { __ } = wp.i18n;\r\n\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\nimport BMediaUpload from \"../../BMediaUpload\";\r\nimport PremiumText from \"../../PremiumText\";\r\n\r\nconst Subtitle = ({ setAttributes, attributes, isPremium, updateOption }) => {\r\n  const { captionEnabled, subtitle, options } = attributes;\r\n\r\n  const handleSubtitle = (property, value, index) => {\r\n    const newSubtitle = [...subtitle];\r\n    newSubtitle[index] = { ...newSubtitle[index], [property]: value };\r\n    setAttributes({ subtitle: newSubtitle });\r\n  };\r\n\r\n  const removSubtitle = (index) => {\r\n    const newSubtitle = [...subtitle];\r\n    newSubtitle.splice(index, 1);\r\n    setAttributes({ subtitle: newSubtitle });\r\n  };\r\n\r\n  return (\r\n    <PanelBody className=\"subtitlePanel\" title={__(\"Subtitle/Caption\", \"h5vp\")} initialOpen={false}>\r\n      <PremiumText isPremium={isPremium} />\r\n      {isPremium &&\r\n        subtitle.map((item, index) => {\r\n          return (\r\n            <PanelBody key={index} title={item.label} initialOpen={false} className=\"subtitleItem\">\r\n              {/* <PanelRow className=\"width-100\"> */}\r\n              <TextControl value={item?.label} onChange={(label) => handleSubtitle(\"label\", label, index)} placeholder={\"Caption Label\"} />\r\n              {/* </PanelRow> */}\r\n              <BMediaUpload\r\n                // type={[\"audio/mp3\"]}\r\n                onSelect={(source) => handleSubtitle(\"caption_file\", source, index)}\r\n                value={item?.caption_file}\r\n                placeholder=\"Subtitle File\"\r\n              />\r\n              <PanelRow>\r\n                <span></span>\r\n                <Button className=\"button button-danger button-small\" onClick={() => removSubtitle(index)}>\r\n                  {__(\"Remove\", \"h5vp\")}\r\n                </Button>\r\n              </PanelRow>\r\n            </PanelBody>\r\n          );\r\n        })}\r\n      <PanelRow>\r\n        <span></span>\r\n        <Button\r\n          isPrimary\r\n          className=\"button button-small\"\r\n          onClick={() => {\r\n            setAttributes({ subtitle: [...subtitle, { label: \"label\" }] });\r\n          }}\r\n        >\r\n          {__(\"Add More\", \"h5vp\")}\r\n        </Button>\r\n      </PanelRow>\r\n      {subtitle && (\r\n        <BControlPro\r\n          isPremium={isPremium}\r\n          Component={ToggleControl}\r\n          label={__(\"Enable caption by default (Experimental)\", \"h5vp\")}\r\n          id=\"captionEnabled\"\r\n          checked={options.captions.enabled}\r\n          onChange={() => updateOption({ captions: { ...options.captions, enabled: !options.captions.enabled } })}\r\n        />\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Subtitle;\r\n","const { PanelBody, PanelRow, Button, TextControl } = wp.components;\r\nconst { __ } = wp.i18n;\r\nimport BMediaUpload from \"../../BMediaUpload\";\r\nimport PremiumText from \"../../PremiumText\";\r\n\r\nconst Quality = ({ attributes, setAttributes, isPremium }) => {\r\n  const { quality } = attributes;\r\n\r\n  const handleQuality = (property, value, index) => {\r\n    const newQuality = [...quality];\r\n    newQuality[index] = { ...newQuality[index], [property]: value };\r\n    setAttributes({ quality: newQuality });\r\n  };\r\n\r\n  const removQuality = (index) => {\r\n    const newQuality = [...quality];\r\n    newQuality.splice(index, 1);\r\n    setAttributes({ quality: newQuality });\r\n  };\r\n\r\n  return (\r\n    <PanelBody className=\"\" title={__(\"Quality\", \"h5vp\")} initialOpen={false}>\r\n      <PremiumText isPremium={isPremium} />\r\n      {isPremium &&\r\n        quality.map((item, index) => {\r\n          return (\r\n            <PanelBody key={index} title={item.size || \"Resulation\"} initialOpen={false} className=\"subtitleItem\">\r\n              <PanelRow className=\"width-100\">\r\n                <TextControl\r\n                  help={__(\"ex: 720, 1080, 1440\", \"h5vp\")}\r\n                  placeholder={\"ex: 720, 1080, 1440\"}\r\n                  value={item?.size}\r\n                  onChange={(size) => handleQuality(\"size\", size, index)}\r\n                />\r\n              </PanelRow>\r\n              <BMediaUpload\r\n                // type={[\"audio/mp4\"]}\r\n                onSelect={(source) => handleQuality(\"video_file\", source, index)}\r\n                value={item?.video_file}\r\n                placeholder=\"Video Source\"\r\n              />\r\n              <PanelRow>\r\n                <span></span>\r\n                <Button className=\"button button-danger button-small\" onClick={() => removQuality(index)}>\r\n                  {__(\"Remove\", \"h5vp\")}\r\n                </Button>\r\n              </PanelRow>\r\n            </PanelBody>\r\n          );\r\n        })}\r\n      <PanelRow>\r\n        <span> </span>\r\n        <Button\r\n          isPrimary\r\n          className=\"button button-small\"\r\n          onClick={() => {\r\n            setAttributes({ quality: [...quality, { size: \"size\" }] });\r\n          }}\r\n        >\r\n          {__(\"Add More\", \"h5vp\")}\r\n        </Button>\r\n      </PanelRow>\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Quality;\r\n","const { Fragment } = wp.element;\r\nconst { PanelBody, PanelRow, TextControl, ToggleControl, SelectControl } = wp.components;\r\nconst { __ } = wp.i18n;\r\nimport { produce } from \"immer\";\r\n\r\nimport BColor from \"../../BColor\";\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\n\r\nconst Watermark = ({ attributes, handleFeatures, isPremium }) => {\r\n  const { type, enabled, text, color } = attributes.features.watermark || {};\r\n\r\n  const updateWatermark = (property, value) => {\r\n    handleFeatures({ ...attributes.features.watermark, [property]: value }, \"watermark\");\r\n  };\r\n\r\n  return (\r\n    <PanelBody title={__(\"Watermark\", \"h5vp\")} initialOpen={false}>\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Watermark\", \"h5vp\")}\r\n        id=\"watermark\"\r\n        checked={enabled}\r\n        onChange={() => updateWatermark(\"enabled\", !enabled)}\r\n        help={__(\"autoplay will not work if enabled\", \"h5vp\")}\r\n      />\r\n\r\n      {enabled && (\r\n        <Fragment>\r\n          <SelectControl\r\n            className=\"m-0\"\r\n            style={{ marginBottom: 0 }}\r\n            value={type}\r\n            labelPosition=\"side\"\r\n            label={__(\"Type\", \"h5ap\")}\r\n            options={[\r\n              { label: \"Uesr Email\", value: \"email\" },\r\n              { label: \"User Name\", value: \"name\" },\r\n              { label: \"Custom Text\", value: \"text\" },\r\n            ]}\r\n            onChange={(type) => {\r\n              updateWatermark(\"type\", type);\r\n            }}\r\n            __nextHasNoMarginBottom\r\n            help={\r\n              [\"email\", \"name\"].includes(type) && (\r\n                <span>\r\n                  {__(\"only logged in user can see his/her \", \"bpm\")}\r\n                  {type}\r\n                </span>\r\n              )\r\n            }\r\n          />\r\n\r\n          {/* </PanelRow> */}\r\n          {type === \"text\" && <TextControl value={text} onChange={(text) => updateWatermark(\"text\", text)} />}\r\n\r\n          <PanelRow>\r\n            <label htmlFor=\"\" className=\"label display-block\">\r\n              {__(\"Text Color\", \"h5vp\")}\r\n            </label>\r\n            <BColor defaultColor=\"#f00\" value={color} onChange={(color) => updateWatermark(\"color\", color)} />\r\n          </PanelRow>\r\n        </Fragment>\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Watermark;\r\n","import BControlPro from \"../../../../components/BControlPro\";\r\nimport BColor from \"../../BColor\";\r\n\r\nconst { PanelBody, PanelRow, Button, TextControl, FormToggle, SelectControl, ButtonGroup, __experimentalUnitControl: UnitControl, ToggleControl } = wp.components;\r\nconst { __ } = wp.i18n;\r\nimport { __experimentalBoxControl as BoxControl } from \"@wordpress/components\";\r\n\r\nconst Popup = ({ attributes, updateFeatures, isPremium }) => {\r\n  const { popupBtnStyle, features } = attributes;\r\n  const { enabled, type, selector, hasBtn, btnText, align, btnStyle } = features.popup || {};\r\n  const { color, backgroundColor, fontSize, padding } = btnStyle;\r\n\r\n  const updatePopup = (value) => {\r\n    const [property] = Object.keys(value);\r\n    updateFeatures({ ...attributes.features.popup, [property]: value[property] }, \"popup\");\r\n  };\r\n\r\n  // const updatePopup = (value) => {\r\n  //   const [property] = Object.keys(value);\r\n  //   updatePopup({ ...btnStyle, [property]: value[property] });\r\n  // };\r\n\r\n  return (\r\n    <PanelBody title={__(\"Popup\", \"h5vp\")} initialOpen={false}>\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Enable Popup\", \"h5vp\")}\r\n        id=\"popup\"\r\n        checked={enabled}\r\n        onChange={() => updatePopup({ enabled: !enabled })}\r\n      />\r\n      {enabled && (\r\n        <>\r\n          <SelectControl\r\n            value={type}\r\n            options={[\r\n              { label: \"poster\", value: \"poster\" },\r\n              { label: \"Button\", value: \"button\" },\r\n            ]}\r\n            onChange={(type) => {\r\n              updatePopup({ type });\r\n            }}\r\n          />\r\n          {type === \"button\" && (\r\n            <PanelRow>\r\n              <label className=\"label\">{__(\"Use Exists Button\", \"h5vp\")}</label>\r\n              <FormToggle id=\"popupBtnExists\" checked={hasBtn} onChange={() => updatePopup({ hasBtn: !hasBtn })} />\r\n            </PanelRow>\r\n          )}\r\n          {type === \"button\" && hasBtn && (\r\n            <>\r\n              <PanelRow>\r\n                <label className=\"label\">{__(\"Button Class\", \"h5vp\")}</label>\r\n              </PanelRow>\r\n              <TextControl value={selector} onChange={(selector) => updatePopup({ selector })} />\r\n            </>\r\n          )}\r\n          {type === \"button\" && !hasBtn && (\r\n            <PanelBody title=\"Button Style\">\r\n              <>\r\n                <PanelRow>\r\n                  <label className=\"label\">{__(\"Color\", \"h5vp\")}</label>\r\n                  <BColor value={color} onChange={(color) => updatePopup({ btnStyle: { ...btnStyle, color } })} />\r\n                </PanelRow>\r\n                <PanelRow>\r\n                  <label className=\"label\">{__(\"Background Color\", \"h5vp\")}</label>\r\n                  <BColor value={backgroundColor} onChange={(backgroundColor) => updatePopup({ btnStyle: { ...btnStyle, backgroundColor } })} />\r\n                </PanelRow>\r\n                <PanelRow>\r\n                  <label htmlFor=\"\" className=\"label\">\r\n                    {__(\"Font Size\", \"h5vp\")}\r\n                  </label>\r\n                  <UnitControl\r\n                    onChange={(fontSize) => updatePopup({ btnStyle: { ...btnStyle, fontSize } })}\r\n                    value={fontSize}\r\n                    units={[\r\n                      { label: \"px\", value: \"px\", default: 16 },\r\n                      { label: \"em\", value: \"1\", default: 1 },\r\n                      { label: \"rem\", value: \"1.6\", default: 1.6 },\r\n                    ]}\r\n                  />\r\n                </PanelRow>\r\n                <PanelRow>\r\n                  <BoxControl label={__(\"Padding\", \"h5vp\")} values={padding} onChange={(padding) => updatePopup({ btnStyle: { ...btnStyle, padding } })} />\r\n                </PanelRow>\r\n                <PanelRow>\r\n                  <label htmlFor=\"\" className=\"label\">\r\n                    {__(\"Button Align\", \"h5vp\")}\r\n                  </label>\r\n                  <ButtonGroup>\r\n                    <Button icon=\"editor-alignleft\" onClick={() => updatePopup({ align: \"left\" })} variant={align === \"left\" ? \"primary\" : \"secondary\"}></Button>\r\n                    <Button icon=\"editor-aligncenter\" onClick={() => updatePopup({ align: \"center\" })} variant={align === \"center\" ? \"primary\" : \"secondary\"}></Button>\r\n                    <Button icon=\"editor-alignright\" onClick={() => updatePopup({ align: \"right\" })} variant={align === \"right\" ? \"primary\" : \"secondary\"}></Button>\r\n                  </ButtonGroup>\r\n                </PanelRow>\r\n                <TextControl label={__(\"Button Text\", \"h5vp\")} value={btnText} onChange={(btnText) => updatePopup({ btnText })} />\r\n              </>\r\n            </PanelBody>\r\n          )}\r\n        </>\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n","/**\r\n * onSelect={panelBodyController} on TabPanel component\r\n */\r\n\r\nconst panelBodyController = () => {\r\n  setTimeout(() => {\r\n    const panelBodies = document.querySelectorAll(\".components-panel__body-title button\");\r\n    panelBodies.forEach((item) => {\r\n      item.addEventListener(\"click\", clickEveryItem);\r\n    });\r\n\r\n    function clickEveryItem() {\r\n      this.removeEventListener(\"click\", clickEveryItem);\r\n      panelBodies.forEach((item) => {\r\n        if (item.getAttribute(\"aria-expanded\") === \"true\" && !item.isEqualNode(this)) {\r\n          item.click();\r\n        }\r\n      });\r\n      setTimeout(() => {\r\n        this.addEventListener(\"click\", clickEveryItem);\r\n      }, 500);\r\n    }\r\n  }, 500);\r\n};\r\n\r\nexport default panelBodyController;\r\n","import { PanelBody, TextControl, TextareaControl, ToggleControl } from \"@wordpress/components\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nimport { produce } from \"immer\";\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\n\r\nconst EndScreen = ({ isPremium, attributes, panelRef, handleFeatures }) => {\r\n  const { enabled, text, btnLink, btnText, btnStyle } = attributes.features.endScreen;\r\n\r\n  // const updateEndScreen = (key, value) => {\r\n  //   const newEndScreen = produce(endScreen, (draft) => {\r\n  //     draft[key] = value;\r\n  //   });\r\n  //   setAttributes({ endScreen: newEndScreen });\r\n  // };\r\n\r\n  const handleEndScreen = (value) => {\r\n    console.log(value);\r\n    handleFeatures(\r\n      produce(attributes.features.endScreen, (draft) => {\r\n        draft.enabled = enabled;\r\n        Object.keys(value).map((key) => {\r\n          draft[key] = value[key];\r\n        });\r\n      }),\r\n      \"endScreen\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <PanelBody ref={panelRef} title={__(\"End Screen\", \"h5vp\")} initialOpen={false}>\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Enabled\", \"bpm\")}\r\n        id=\"endscreen\"\r\n        checked={enabled}\r\n        onChange={() => handleEndScreen({ enabled: !enabled })}\r\n        help={__(\"Repeat should be disabled\", \"h5vp\")}\r\n      />\r\n\r\n      {enabled && (\r\n        <>\r\n          <TextareaControl label={__(\"Text\", \"h5vp\")} value={text} onChange={(text) => handleEndScreen({ text })} />\r\n\r\n          <TextControl label={__(\"Button Text\", \"h5vp\")} value={btnText} onChange={(btnText) => handleEndScreen({ btnText })} />\r\n          <TextControl label={__(\"Button link\", \"h5vp\")} value={btnLink} onChange={(btnLink) => handleEndScreen({ btnLink })} />\r\n        </>\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default EndScreen;\r\n","import { useEffect } from \"react\";\r\nimport { produce } from \"immer\";\r\n\r\nconst RefactorDataStructure = ({ setAttributes, attributes }) => {\r\n  const { autoplay, autoHideControl, muted, options, playinline, preload, resetOnEnd, ratio, repeat, radius, styles, seekTime, speed, width, chapters, imported, controls } =\r\n    attributes;\r\n\r\n  const { overlay, overlayBackground, overlayFontSize: fz, overlayLink, overlayOpacity, overlayPosition, overlayText, overlayTextColor, overlayType, overlayLogo } = attributes;\r\n\r\n  const {\r\n    captionEnabled,\r\n    CDURL,\r\n    isCDURL,\r\n    endscreen,\r\n    endscreenText,\r\n    endscreenTextLink,\r\n    endScreen,\r\n    vastTag,\r\n    features,\r\n    overlayFontSize,\r\n    thumbInPause,\r\n    watermark,\r\n    popup,\r\n    popupBtnStyle,\r\n    popupBtnText,\r\n    popupBtnClass,\r\n    popupBtnExists,\r\n    autoplayWhenVisible,\r\n    popupType,\r\n    disablePause,\r\n    startTime,\r\n    hideYoutubeUI,\r\n  } = attributes;\r\n\r\n  const handleStyles = () => {\r\n    let newStyles = {};\r\n    if (!width.isDeprecated) {\r\n      newStyles = produce(styles, (draft) => {\r\n        draft.plyr_wrapper = {\r\n          width: width.number + width.unit,\r\n        };\r\n        draft.plyr = {\r\n          borderRadius: radius.number + radius.unit,\r\n        };\r\n      });\r\n    }\r\n    return newStyles;\r\n  };\r\n\r\n  const handleOptions = () => {\r\n    const newOptions = produce(options, (draft) => {\r\n      draft.preload = preload;\r\n      draft.controls = Object.keys(controls).filter((key) => controls[key]);\r\n      draft.autoplay = autoplay;\r\n      draft.playsinline = playinline;\r\n      draft.seekTime = seekTime;\r\n      draft.muted = muted;\r\n      draft.captions.active = captionEnabled;\r\n      draft.ratio = ratio;\r\n      draft.resetOnEnd = resetOnEnd;\r\n      draft.hideControls = autoHideControl;\r\n      draft.loop.active = repeat;\r\n      draft.speed.options = Object.keys(speed);\r\n      draft.ads.enabled = true;\r\n      draft.ads.tagUrl = vastTag;\r\n      draft.urls.enabled = isCDURL;\r\n      draft.urls.download = CDURL;\r\n      draft.markers = {\r\n        enabled: true,\r\n        points: chapters.map((chapter) => ({ time: chapter.time, label: chapter.name })),\r\n      };\r\n      draft.imported = true;\r\n    });\r\n    return newOptions;\r\n  };\r\n\r\n  const handleFeatures = () => {\r\n    const featuresCopy = produce(features, (draft) => {\r\n      draft.popup = {\r\n        enabled: popup,\r\n        selector: popupBtnClass,\r\n        hasBtn: popupBtnExists,\r\n        type: popupType,\r\n        btnText: popupBtnText,\r\n        align: \"center\",\r\n        btnStyle: {\r\n          color: popupBtnStyle.color,\r\n          backgroundColor: popupBtnStyle.backgroundColor,\r\n          fontSize: popupBtnStyle.fontSize,\r\n          padding: popupBtnStyle.padding,\r\n        },\r\n      };\r\n      draft.overlay = {\r\n        enabled: overlay,\r\n        items: [\r\n          {\r\n            color: overlayTextColor,\r\n            backgroundColor: overlayBackground,\r\n            fontSize: overlayFontSize,\r\n            link: overlayLink,\r\n            logo: overlayLogo,\r\n            text: overlayText,\r\n            position: overlayPosition,\r\n            type: overlayType ? \"text\" : \"logo\",\r\n            opacity: overlayOpacity,\r\n          },\r\n        ],\r\n      };\r\n      draft.endScreen = {\r\n        enabled: endscreen,\r\n        text: endscreenText,\r\n        btnText: endScreen.btnText,\r\n        btnLink: endscreenTextLink,\r\n        btnStyle: endScreen.btnStyle,\r\n      };\r\n      draft.thumbInPause = {\r\n        enabled: thumbInPause,\r\n        type: \"default\",\r\n      };\r\n      draft.watermark = {\r\n        ...watermark,\r\n        color: \"#f00\",\r\n      };\r\n      draft.sticky = {\r\n        enabled: false,\r\n        position: \"top_right\",\r\n      };\r\n\r\n      draft.playWhenVisible = autoplayWhenVisible;\r\n      draft.disablePause = disablePause;\r\n      draft.hideYoutubeUI = hideYoutubeUI;\r\n      draft.startTime = startTime;\r\n    });\r\n\r\n    return featuresCopy;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!imported) {\r\n      setAttributes({ styles: { ...styles, ...handleStyles() }, width: { ...width, isDeprecated: true }, options: handleOptions(), features: handleFeatures(), imported: true });\r\n    }\r\n  }, []);\r\n\r\n  return <></>;\r\n};\r\n\r\nexport default RefactorDataStructure;\r\n","const { __ } = wp.i18n;\r\nconst { Flex, FlexItem, FlexBlock, TextControl, Button, PanelBody, PanelRow } = wp.components;\r\nconst { useState, useRef } = wp.element;\r\n\r\nimport React from \"react\";\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\nimport PremiumText from \"../../PremiumText\";\r\n\r\nconst Markers = ({ attributes, panelRef, handleOptions, isPremium }) => {\r\n  const {\r\n    options: { markers },\r\n  } = attributes;\r\n\r\n  const [pointsDraft, setPointsDraft] = useState({});\r\n\r\n  const handleChapter = (point, index) => {\r\n    const pointsCopy = [...markers.points];\r\n    pointsCopy[index] = point;\r\n    handleOptions({ points: pointsCopy }, \"markers\");\r\n  };\r\n\r\n  // console.log(markers);\r\n\r\n  const handleAdd = () => {\r\n    console.log(pointsDraft);\r\n    if (pointsDraft.time && pointsDraft.label) {\r\n      const pointsCopy = [...markers.points];\r\n      pointsCopy.push(pointsDraft);\r\n      handleOptions({ points: pointsCopy }, \"markers\");\r\n      setPointsDraft({});\r\n    }\r\n  };\r\n\r\n  const handleRemove = (itemIndex) => {\r\n    const pointsCopy = [...markers.points];\r\n    handleOptions({ points: pointsCopy.filter((item, index) => index !== itemIndex) }, \"markers\");\r\n  };\r\n\r\n  const handleMarkers = () => {\r\n    // handleOptions();\r\n  };\r\n\r\n  return (\r\n    <PanelBody ref={panelRef} title={__(\"Chapters\", \"h5vp\")} initialOpen={false}>\r\n      <PremiumText isPremium={isPremium} />\r\n      {isPremium && (\r\n        <>\r\n          {markers.points.map((chapter, index) => (\r\n            <BControlPro\r\n              isPremium={isPremium}\r\n              Component={Chapter}\r\n              Chapter\r\n              key={index}\r\n              onRemove={() => handleRemove(index)}\r\n              chapter={chapter}\r\n              onChange={(newChapter) => handleChapter(newChapter, index)}\r\n            />\r\n          ))}\r\n          <Chapter addNew={true} onAdd={handleAdd} chapter={pointsDraft} onChange={(newChapter) => setPointsDraft(newChapter)} />\r\n        </>\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Markers;\r\n\r\nexport const Chapter = ({ chapter, key, onChange, onAdd, addNew = false, onRemove }) => {\r\n  const { time = \"\", label = \"\" } = chapter;\r\n  const minusWrapper = useRef(null);\r\n\r\n  return (\r\n    <Flex>\r\n      <FlexItem>\r\n        <TextControl style={{ width: \"55px\" }} value={time} placeholder=\"00:00\" onChange={(val) => onChange({ ...chapter, time: val })} />\r\n      </FlexItem>\r\n      <FlexItem>\r\n        <TextControl style={{ marginLeft: \"10px\" }} value={label} placeholder=\"Label\" onChange={(val) => onChange({ ...chapter, label: val })} />\r\n      </FlexItem>\r\n      <FlexItem>\r\n        {addNew ? (\r\n          <Button icon=\"plus-alt\" style={{ marginBottom: \"10px\" }} onClick={onAdd} />\r\n        ) : (\r\n          <div\r\n            ref={minusWrapper}\r\n            style={{ opacity: \"0\" }}\r\n            onMouseEnter={() => (minusWrapper.current.style.opacity = 1)}\r\n            onMouseLeave={() => (minusWrapper.current.style.opacity = 0)}\r\n          >\r\n            <Button icon=\"minus\" style={{ marginBottom: \"10px\" }} onClick={onRemove} />\r\n          </div>\r\n        )}\r\n      </FlexItem>\r\n    </Flex>\r\n  );\r\n};\r\n","const { __ } = wp.i18n;\r\nconst { Fragment, useState, useRef, useEffect } = wp.element;\r\nconst { select } = wp.data;\r\nimport { produce } from \"immer\";\r\n\r\n// import axios from \"axios\";\r\nimport BControls from \"./BControls\";\r\n// import BRangeControl from \"./BRangeControl\";\r\nimport Settings from \"./Tabs/General/Settings\";\r\nimport Overlay from \"./Tabs/General/Overlay\";\r\nimport Subtitle from \"./Tabs/General/Subtitle\";\r\nimport Quality from \"./Tabs/General/Quality\";\r\nimport Watermark from \"./Tabs/General/Watermark\";\r\nimport Popup from \"./Tabs/General/Popup\";\r\nimport panelBodyController from \"../../../../wp-utils/v1/panelBodyController\";\r\nimport EndScreen from \"./Tabs/General/EndScreen\";\r\nimport RefactorDataStructure from \"./RefactorDataStructure\";\r\nimport Markers from \"./Tabs/General/Markers\";\r\nimport BControlPro from \"../../components/BControlPro\";\r\n// import Styles from \"./Styles\";\r\n\r\nconst { TabPanel, Panel, PanelBody, PanelRow, TextControl, TextareaControl, __experimentalUnitControl: UnitControl } = wp.components;\r\nconst { InspectorControls } = wp.blockEditor;\r\nconst { getCurrentPostId } = select(\"core/editor\");\r\n\r\nconst BSettings = ({ attributes, setAttributes, clientId, isPremium, name }) => {\r\n  const { styles, source } = attributes;\r\n  const { plyr_wrapper } = styles;\r\n\r\n  useEffect(() => {\r\n    setAttributes({ uniqueId: `h5vp${clientId.substr(0, 8)}` });\r\n  }, []);\r\n\r\n  const postId = getCurrentPostId();\r\n\r\n  const { additionalCSS, additionalID, options } = attributes;\r\n  const { speed } = options;\r\n\r\n  const postType = select(\"core/editor\").getCurrentPostType();\r\n  const panelRef = useRef(null);\r\n\r\n  const updateOption = (value, type = null) => {\r\n    updateHandler(value, type, \"options\");\r\n  };\r\n\r\n  const updateFeatures = (value, type = null) => {\r\n    updateHandler(value, type, \"features\");\r\n  };\r\n\r\n  const updateStyle = (value, type = null) => {\r\n    updateHandler(value, type, \"styles\");\r\n  };\r\n\r\n  const updateHandler = (value, type, attr) => {\r\n    setAttributes({\r\n      [attr]: produce(attributes[attr], (draft) => {\r\n        Object.keys(value).map((key) => {\r\n          if (type) {\r\n            if (draft[type]) {\r\n              draft[type][key] = value[key];\r\n            } else {\r\n              draft[type] = { [key]: value };\r\n            }\r\n          } else {\r\n            draft[key] = value[key];\r\n          }\r\n        });\r\n      }),\r\n    });\r\n  };\r\n\r\n  const handleUnitChange = (unit) => {\r\n    if (unit === \"%\") {\r\n      updateStyle({ width: \"100%\" }, \"plyr_wrapper\");\r\n    }\r\n    if (unit === \"px\") {\r\n      updateStyle({ width: \"500px\" }, \"plyr_wrapper\");\r\n    }\r\n\r\n    if ([\"rem\", \"vh\", \"hw\"].includes(unit)) {\r\n      updateStyle({ width: 100 + unit }, \"plyr_wrapper\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* <Styles attributes={attributes} setAttributes={setAttributes} /> */}\r\n      <InspectorControls style={{ marginBottom: \"40px\" }}>\r\n        {postType === \"videoplayer\" && (\r\n          <PanelBody>\r\n            <PanelRow>\r\n              <div className=\"h5vp_front_shortcode\">\r\n                <input value={`[html5_video id=${postId}]`} />\r\n                <span className=\"htooltip\">{__(\"Copy To Clipboard\", \"h5vp\")}</span>\r\n              </div>\r\n            </PanelRow>\r\n          </PanelBody>\r\n        )}\r\n\r\n        {/* {!poster && !streaming && (\r\n          <div className=\"generateThumbButton\">\r\n            {\r\n              // <img src={loadingImg} />\r\n            }\r\n            <Button className=\"button button-primary\" onClick={generateThumb}>\r\n              {__(\"Generate Thumbnail\", \"h5vp\")}\r\n            </Button>\r\n            <p>{__(\"(Experimental)\", \"h5vp\")}</p>\r\n          </div>\r\n        )} */}\r\n\r\n        <TabPanel\r\n          className=\"bPSS\"\r\n          activeClass=\"active-tab\"\r\n          onSelect={panelBodyController}\r\n          tabs={[\r\n            {\r\n              name: \"general\",\r\n              title: \"General\",\r\n              className: \"general btTab\",\r\n            },\r\n            {\r\n              name: \"controls\",\r\n              title: \"Controls\",\r\n              className: \"slider btTab\",\r\n            },\r\n            {\r\n              name: \"style\",\r\n              title: \"Style\",\r\n              className: \"style btTab\",\r\n            },\r\n          ]}\r\n        >\r\n          {(tab) => {\r\n            return (\r\n              <span>\r\n                <RefactorDataStructure attributes={attributes} setAttributes={setAttributes} />\r\n                {tab.name == \"general\" && (\r\n                  <span>\r\n                    <Panel>\r\n                      {/* {Settings } */}\r\n                      <Settings\r\n                        name={name}\r\n                        isPremium={isPremium}\r\n                        attributes={attributes}\r\n                        setAttributes={setAttributes}\r\n                        handleOptions={updateOption}\r\n                        handleFeatures={updateFeatures}\r\n                      />\r\n                      <Markers isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} panelRef={panelRef} handleOptions={updateOption} />\r\n\r\n                      {/* {overlay tab} */}\r\n                      <Overlay isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} handleFeatures={updateFeatures} />\r\n\r\n                      <EndScreen isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} panelRef={panelRef} handleFeatures={updateFeatures} />\r\n\r\n                      {name == \"html5-player/video\" && (\r\n                        <Fragment>\r\n                          {/* <Streaming attributes={attributes} setAttributes={setAttributes} /> */}\r\n                          {!source.includes(\".mpd\") && !source.includes(\".m3u8\") && (\r\n                            <Fragment>\r\n                              <Subtitle updateOption={updateOption} isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} />\r\n                              <Quality isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} />\r\n                            </Fragment>\r\n                          )}\r\n                          <PanelBody title={__(\"Speed\", \"h5vp\")} initialOpen={false}>\r\n                            <TextControl\r\n                              label={__(\"Speed\", \"h5vp\")}\r\n                              value={speed.options}\r\n                              onChange={(options) => updateOption({ ...speed, options: options.split(\",\") }, \"speed\")}\r\n                            />\r\n                          </PanelBody>\r\n                        </Fragment>\r\n                      )}\r\n                      <Popup isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} updateFeatures={updateFeatures} />\r\n                      <Watermark isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} handleFeatures={updateFeatures} />\r\n\r\n                      <PanelBody title={__(\"Additional\", \"h5vp\")} initialOpen={false}>\r\n                        <BControlPro\r\n                          isPremium={isPremium}\r\n                          Component={TextControl}\r\n                          label=\"Additional ID\"\r\n                          value={additionalID}\r\n                          onChange={(additionalID) => setAttributes({ additionalID })}\r\n                        />\r\n\r\n                        <BControlPro\r\n                          isPremium={isPremium}\r\n                          Component={TextareaControl}\r\n                          label={__(\"Additional CSS\", \"h5vp\")}\r\n                          value={additionalCSS}\r\n                          onChange={(additionalCSS) => setAttributes({ additionalCSS })}\r\n                        />\r\n                      </PanelBody>\r\n                    </Panel>\r\n                  </span>\r\n                )}\r\n                {tab.name == \"controls\" && <BControls attributes={attributes} setAttributes={setAttributes} updateOption={updateOption} />}\r\n                {tab.name == \"style\" && (\r\n                  <span>\r\n                    <Panel>\r\n                      <PanelBody ref={panelRef}>\r\n                        <UnitControl\r\n                          label={__(\"Width\", \"h5vp\")}\r\n                          step={1}\r\n                          value={plyr_wrapper.width}\r\n                          onChange={(width) => updateStyle({ width }, \"plyr_wrapper\")}\r\n                          isResetValueOnUnitChange={true}\r\n                          default=\"100\"\r\n                          onUnitChange={handleUnitChange}\r\n                        />\r\n                        <UnitControl\r\n                          label={__(\"Round Corner\", \"h5vp\")}\r\n                          value={plyr_wrapper.borderRadius}\r\n                          onChange={(borderRadius) => updateStyle({ borderRadius }, \"plyr_wrapper\")}\r\n                        />\r\n                      </PanelBody>\r\n                    </Panel>\r\n                  </span>\r\n                )}\r\n              </span>\r\n            );\r\n          }}\r\n        </TabPanel>\r\n      </InspectorControls>\r\n      {/* <Thumbs player={player} setAttributes={setAttributes} attributes={attributes} setThumbModel={setThumbModel} thumbModel={thumbModel} /> */}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default BSettings;\r\n","// import Plyr from \"plyr\";\r\nimport { htmlToElement } from \"../../../wp-utils/v1\";\r\n\r\nimport { produce } from \"immer\";\r\n\r\nclass MyPlayer {\r\n  constructor(media, options, features = {}, isPremium = false) {\r\n    this.media = media;\r\n    this.isPremium = isPremium;\r\n    this.features = features;\r\n    this.options = produce(options, (draft) => {\r\n      draft.markers.enabled = true;\r\n      draft.speed.options = options.speed.options.map((item) => parseFloat(item));\r\n      draft.ads.enabled = false;\r\n      draft.fullscreen = {\r\n        container: \".plyr_wrapper\",\r\n        iosNative: true,\r\n      };\r\n      // draft.captions = { active: false, language: \"auto\", update: true };\r\n    });\r\n\r\n    if (!options.urls.enabled) {\r\n      this.options = produce(this.options, (draft) => {\r\n        draft.urls.download = null;\r\n      });\r\n    }\r\n\r\n    if (this.media.closest(\".plyr_wrapper\")?.offsetWidth <= 425) {\r\n      this.options = produce(this.options, (draft) => {\r\n        draft.controls = this.options.controls.filter((control) => ![\"fast-forward\", \"restart\", \"rewind\"].includes(control));\r\n      });\r\n    }\r\n\r\n    if (this.options.muted) {\r\n      this.options = produce(this.options, (draft) => {\r\n        draft.volume = 0;\r\n        draft.storage.enabled = false;\r\n        // captions will not work properly\r\n      });\r\n    } else {\r\n      this.options = produce(this.options, (draft) => {\r\n        draft.volume = 0.5;\r\n        draft.storage.enabled = true;\r\n      });\r\n    }\r\n\r\n    this.player = new Plyr(this.media, this.options);\r\n    // window.options = this.options;\r\n    // window.features = this.features;\r\n    // window.player = this.player;\r\n\r\n    if (this.media.src?.split(\".\").pop() === \"m3u8\") {\r\n      this.videoHls();\r\n    }\r\n\r\n    if (this.media.src?.split(\".\").pop() === \"mpd\") {\r\n      this.videoDash();\r\n    }\r\n\r\n    this.init();\r\n\r\n    this.player.on(\"pause\", () => {\r\n      if (this.features.disablePause) {\r\n        this.player.play();\r\n      }\r\n    });\r\n  }\r\n\r\n  setIsPremium(isPremium) {\r\n    this.isPremium = isPremium;\r\n  }\r\n\r\n  init() {\r\n    if (!this.player) {\r\n      console.error(\"something went wrong!\");\r\n      return;\r\n    }\r\n\r\n    const sources =\r\n      this.features.qualities?.map((item) => {\r\n        return {\r\n          type: `video/${item?.video_file?.split(\".\").pop()}`,\r\n          size: item.size,\r\n          src: item.video_file,\r\n        };\r\n      }) || [];\r\n\r\n    const tracks =\r\n      this.features.captions?.map((item, index) => {\r\n        const info = item.label.split(\"/\");\r\n        return {\r\n          kind: \"captions\",\r\n          size: item.size,\r\n          label: info[0],\r\n          srclang: info[1],\r\n          src: item.caption_file,\r\n          // default: index === 0,\r\n        };\r\n      }) || [];\r\n\r\n    this.player.download = this.player.source;\r\n\r\n    this.player.source = {\r\n      type: \"video\",\r\n      sources: [\r\n        {\r\n          src: this.player.source,\r\n          type: \"video/mp4\",\r\n          size: 720,\r\n        },\r\n        ...sources,\r\n      ],\r\n      poster: this.player.poster && this.player.poster !== \"false\" ? this.player.poster : \"\",\r\n      // tracks,\r\n    };\r\n\r\n    tracks.map((item) => {\r\n      if (item?.src) {\r\n        const track = document.createElement(\"track\");\r\n        Object.assign(track, item);\r\n        this.player.media.appendChild(track);\r\n      }\r\n    });\r\n\r\n    this.player.on(\"play\", () => {\r\n      if (window.location.pathname.includes(\"/wp-admin\")) {\r\n        this.player.pause();\r\n        this.player.currentTime = 0;\r\n      }\r\n    });\r\n\r\n    if (typeof this.features === \"object\") {\r\n      this.makeElementSticky(this.features.sticky);\r\n      this.createChapter();\r\n      this.watermark(this.features.watermark);\r\n      this.thumbInPause(this.features?.thumbInPause);\r\n      this.autoplayWhenVisible();\r\n      this.pauseOther();\r\n      this.createView();\r\n    }\r\n\r\n    this.player.on(\"play\", () => {\r\n      if (this.disabled) {\r\n        this.player.currentTime = 0;\r\n        this.player.pause();\r\n      }\r\n    });\r\n\r\n    this.player.on(\"ready\", () => {\r\n      this.media.plyr = this.player;\r\n      if (this.features.startTime) {\r\n        setTimeout(() => {\r\n          this.player.currentTime = parseInt(this.features.startTime);\r\n        }, 200);\r\n      }\r\n\r\n      if (this.options.autoplay) {\r\n        this.player.play();\r\n      }\r\n\r\n      // this.player.fullscreen.container = this.player.elements.container.parentNode;\r\n      this.controlTouchAction();\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {media player} player\r\n   * @param {int} videoId\r\n   * @param {string} type\r\n   * @param {boolean} interval\r\n   */\r\n  createView(interval = false) {\r\n    this.player.on(\"pause\", () => {\r\n      if (!this.videoId || !this.isPremium) {\r\n        return;\r\n      }\r\n      let pending = false;\r\n      const currentTime = this.player.currentTime;\r\n      let maxViewed = localStorage.getItem(`video-progress-max-${this.videoId}`);\r\n      let created_at = new Date();\r\n\r\n      if (!maxViewed) {\r\n        localStorage.setItem(`video-progress-max-${this.videoId}`, JSON.stringify({ currentTime, created_at }));\r\n      } else {\r\n        maxViewed = JSON.parse(maxViewed);\r\n      }\r\n\r\n      const viewCreated = (created_at - new Date(maxViewed?.created_at)) / (1000 * 60);\r\n      let condition = false;\r\n      if (interval) {\r\n        condition = this.player.playing && (currentTime >= maxViewed?.currentTime || viewCreated > 1440);\r\n      } else {\r\n        condition = currentTime >= maxViewed?.currentTime || viewCreated > 1440;\r\n      }\r\n\r\n      if (condition) {\r\n        if (viewCreated > 1440) {\r\n          maxViewed.created_at = created_at;\r\n        }\r\n\r\n        maxViewed.currentTime = this.player.currentTime;\r\n        localStorage.setItem(`video-progress-max-${this.videoId}`, JSON.stringify(maxViewed));\r\n\r\n        if (!pending) {\r\n          pending = true;\r\n          wp.ajax\r\n            .post(\"h5vp_ajax_handler\", {\r\n              nonce: this.nonce,\r\n              model: \"View\",\r\n              method: \"createOrUpdate\",\r\n              video_id: this.videoId,\r\n              // type: this.player.provider,\r\n              duration: parseInt(this.player.currentTime),\r\n            })\r\n            .done((res) => {\r\n              console.log(res);\r\n            })\r\n            .fail((res) => {\r\n              console.log(res);\r\n            });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  autoplayWhenVisible() {\r\n    if (this.features.playWhenVisible) {\r\n      let scrollPlayed = false;\r\n      this.player.on(\"ready\", () => {\r\n        window.addEventListener(\"scroll\", () => {\r\n          if (!this.isPremium) {\r\n            return false;\r\n          }\r\n          if (this.player.elements?.container?.offsetParent?.offsetTop < window.scrollY && !scrollPlayed) {\r\n            this.player.muted = true;\r\n            this.player.play();\r\n            scrollPlayed = true;\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handle sticky feature\r\n   * @param {Sticky {}} sticky\r\n   * @returns\r\n   */\r\n  makeElementSticky(sticky) {\r\n    if (!sticky?.enabled) {\r\n      return false;\r\n    }\r\n    const element = this.player.elements.fullscreen;\r\n    if (element && this.player) {\r\n      const originalTop = element.getBoundingClientRect().top;\r\n      const closeBtn = htmlToElement(\"<span class='close'>&times;</span>\");\r\n\r\n      window.addEventListener(\"scroll\", () => {\r\n        if (!this.isPremium) {\r\n          return;\r\n        }\r\n        const closeBtnExists = element.querySelector(\".close\");\r\n        const scrollTop = window.scrollY;\r\n        if (scrollTop >= originalTop && this.player.playing) {\r\n          element.classList.add(sticky.position);\r\n          element.classList.add(\"sticky\");\r\n          if (!closeBtnExists) {\r\n            element.appendChild(closeBtn);\r\n          }\r\n        } else if (!this.player.playing) {\r\n          element.classList.remove(\"sticky\");\r\n          element.classList.remove(sticky.position);\r\n        }\r\n        closeBtn.addEventListener(\"click\", () => {\r\n          element.classList.remove(sticky.position);\r\n          element.classList.remove(\"sticky\");\r\n          this.player.pause();\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handle chapter feature\r\n   * @param {Chapters[]} chapters\r\n   * @returns\r\n   */\r\n  createChapter() {\r\n    const wrapper = this.player?.elements?.container;\r\n    const chapters = this.options.markers.points.map((point) => ({ ...point, time: this.chapterTimeToSeconds(point.time) }));\r\n    if (!Array.isArray(chapters) || !wrapper) {\r\n      return false;\r\n    }\r\n\r\n    const exists = wrapper.querySelector(\".h5vp-chapter-wrapper\");\r\n    if (!chapters || exists || !chapters.length) {\r\n      return false;\r\n    }\r\n    const chapterWrapper = document.createElement(\"div\");\r\n    const chapterListWrapper = document.createElement(\"div\");\r\n    const markerControl = document.createElement(\"button\");\r\n    const chapterList = document.createElement(\"div\");\r\n\r\n    markerControl.classList = \"h5vp-chapter-button plyr__controls__item plyr__control\";\r\n    markerControl.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 487.3 487.3\"> <path d=\"M487.2,69.7c0,12.9-10.5,23.4-23.4,23.4h-322c-12.9,0-23.4-10.5-23.4-23.4s10.5-23.4,23.4-23.4h322.1 C476.8,46.4,487.2,56.8,487.2,69.7z M463.9,162.3H141.8c-12.9,0-23.4,10.5-23.4,23.4s10.5,23.4,23.4,23.4h322.1 c12.9,0,23.4-10.5,23.4-23.4C487.2,172.8,476.8,162.3,463.9,162.3z M463.9,278.3H141.8c-12.9,0-23.4,10.5-23.4,23.4 s10.5,23.4,23.4,23.4h322.1c12.9,0,23.4-10.5,23.4-23.4C487.2,288.8,476.8,278.3,463.9,278.3z M463.9,394.3H141.8 c-12.9,0-23.4,10.5-23.4,23.4s10.5,23.4,23.4,23.4h322.1c12.9,0,23.4-10.5,23.4-23.4C487.2,404.8,476.8,394.3,463.9,394.3z M38.9,30.8C17.4,30.8,0,48.2,0,69.7s17.4,39,38.9,39s38.9-17.5,38.9-39S60.4,30.8,38.9,30.8z M38.9,146.8 C17.4,146.8,0,164.2,0,185.7s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9S60.4,146.8,38.9,146.8z M38.9,262.8 C17.4,262.8,0,280.2,0,301.7s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9S60.4,262.8,38.9,262.8z M38.9,378.7 C17.4,378.7,0,396.1,0,417.6s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9C77.8,396.2,60.4,378.7,38.9,378.7z\"/> </svg><span class=\"plyr__tooltip\">Chapter</span>`;\r\n    chapterWrapper.classList = \"h5vp-chapter-wrapper\";\r\n    chapterListWrapper.classList = \"h5vp-chapter-list-wrapper\";\r\n    chapterList.classList = \"h5vp-chapter-list\";\r\n\r\n    chapters.map((point) => {\r\n      if (point?.label != \"\" && point?.time != \"\") {\r\n        const time = this.chapterTimeToSeconds(point?.time);\r\n        const chapterItem = document.createElement(\"button\");\r\n\r\n        //chapter item\r\n        chapterItem.innerHTML = `<span>${point?.label}</span>`;\r\n        chapterList.appendChild(chapterItem);\r\n\r\n        chapterItem.onclick = () => {\r\n          chapterList.classList.remove(\"showing\");\r\n          this.player.currentTime = time;\r\n          this.player.play();\r\n        };\r\n\r\n        markerControl.onclick = () => {\r\n          if (chapterList.classList.contains(\"showing\")) {\r\n            chapterList.classList.remove(\"showing\");\r\n          } else {\r\n            chapterList.classList.add(\"showing\");\r\n          }\r\n        };\r\n\r\n        wrapper.addEventListener(\"click\", function (event) {\r\n          if (!chapterList.contains(event.target) && !markerControl.contains(event.target)) {\r\n            if (chapterList.classList.contains(\"showing\")) {\r\n              chapterList.classList.remove(\"showing\");\r\n            }\r\n          }\r\n        });\r\n\r\n        this.onClick(wrapper.querySelector(\".plyr__controls__item.plyr__menu button\"), function () {\r\n          if (chapterList.classList.contains(\"showing\")) {\r\n            chapterList.classList.remove(\"showing\");\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    chapterListWrapper?.appendChild(chapterList);\r\n    this.player.on(\"ready\", () => {\r\n      const volumeElem = wrapper.querySelector(\".plyr__controls__item.plyr__volume\");\r\n      const menu = wrapper.querySelector(\".plyr__controls__item.plyr__menu\");\r\n      const fullscreen = wrapper.querySelector(\".plyr__controls__item[data-plyr='fullscreen']\");\r\n      const duration = wrapper.querySelector(\".plyr__controls__item.plyr__time--current.plyr__time\");\r\n      if (volumeElem) {\r\n        volumeElem.before(markerControl);\r\n      } else if (menu) {\r\n        menu.before(markerControl);\r\n      } else if (fullscreen) {\r\n        fullscreen.before(markerControl);\r\n      } else if (duration) {\r\n        duration.before(markerControl);\r\n      }\r\n      wrapper.querySelector(\".plyr__controls\")?.after(chapterListWrapper);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * handle watermark feature\r\n   * @param {watermark Object} watermark\r\n   * @returns\r\n   */\r\n\r\n  watermark(watermark = {}) {\r\n    const { enabled, type, text, color } = watermark;\r\n    const plyrWrapper = this.player.elements?.container;\r\n    if (!plyrWrapper || !enabled) {\r\n      return false;\r\n    }\r\n\r\n    // I didn't find the reason to disable\r\n    let content = text;\r\n\r\n    setTimeout(async () => {\r\n      if ([\"email\", \"name\"].includes(type)) {\r\n        try {\r\n          this.disabled = true;\r\n          console.log(this.nonce);\r\n          const response = await wp.ajax.post(\"watermark_data\", { nonce: this.nonce || window.h5vpBlock?.nonce });\r\n          content = response.user[type] || window.location.origin;\r\n\r\n          this.disabled = false;\r\n        } catch (error) {\r\n          this.disabled = false;\r\n        }\r\n      }\r\n\r\n      // let content = \"\";\r\n      let tag = \"watermark\";\r\n      this.player.on(\"play\", () => {\r\n        if (!this.isPremium) {\r\n          return false;\r\n        }\r\n        const watermarkInterval = setInterval(() => {\r\n          const watermarkElement = document.querySelector(tag);\r\n          if (watermarkElement) {\r\n            plyrWrapper.removeChild(watermarkElement);\r\n          }\r\n          tag = \"watermark\" + Math.round(Math.random() * 1000);\r\n          const span = document.createElement(tag);\r\n          span.setAttribute(\"style\", \"display: block !important\");\r\n          if (type === \"email\") {\r\n            span.innerText = content;\r\n          }\r\n          plyrWrapper.appendChild(span);\r\n          span.innerText = content;\r\n          span.setAttribute(\r\n            \"style\",\r\n            `position:absolute; display:block !important; opacity:1 !important;top: ${Math.round(Math.random() * 90)}% !important; left: ${Math.round(\r\n              Math.random() * 70\r\n            )}% !important; transform: none !important`\r\n          );\r\n          span.style.color = color;\r\n\r\n          plyrWrapper.appendChild(span);\r\n        }, 2000);\r\n\r\n        this.player.on(\"pause\", () => {\r\n          setTimeout(() => {\r\n            clearInterval(watermarkInterval);\r\n            const watermarkElement = document.querySelector(tag);\r\n            if (watermarkElement) {\r\n              plyrWrapper.removeChild(watermarkElement);\r\n            }\r\n          }, 0);\r\n        });\r\n      });\r\n    }, 100);\r\n  }\r\n\r\n  /**\r\n   * handle show thumbnail in video pause feature\r\n   * @param {*} wrapper\r\n   * @param {*} player\r\n   * @param {*} infos\r\n   */\r\n  thumbInPause() {\r\n    if (!this.features?.thumbInPause?.enabled) {\r\n      return;\r\n    }\r\n\r\n    if (this.features.thumbInPause?.type == \"custom\") {\r\n      const img = document.createElement(\"img\");\r\n      img.src = this.player.poster;\r\n      const overlaid = this.player?.elements?.buttons?.play?.[0];\r\n      this.player.on(\"ready\", () => {\r\n        const overlaid = this.player?.elements?.buttons?.play?.[0];\r\n        if (overlaid) {\r\n          overlaid.classList.add(\"thumbInPause\");\r\n          overlaid.appendChild(img);\r\n        }\r\n      });\r\n\r\n      this.player.on(\"play\", () => {\r\n        overlaid.classList.remove(\"thumbInPause\");\r\n      });\r\n      this.player.on(\"pause\", () => {\r\n        overlaid.classList.add(\"thumbInPause\");\r\n      });\r\n    } else {\r\n      this.player.on(\"pause\", () => {\r\n        if (this.player?.elements?.container) {\r\n          this.player?.elements?.container.classList.add(\"plyr--stopped\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * destroy player\r\n   */\r\n  destroy() {\r\n    this.player?.destroy();\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} value\r\n   * @returns {Int}\r\n   */\r\n  chapterTimeToSeconds(value = \"\") {\r\n    const time = value.toString().match(/(\\d+):(\\d+)/);\r\n    if (time == null) {\r\n      return parseInt(value);\r\n    }\r\n    return parseInt(time[1]) * 60 + parseInt(time[2]);\r\n  }\r\n\r\n  getTTT(f = 10, s = 10) {\r\n    return (f / 100) * s - (f / 100) * (100 - s);\r\n  }\r\n\r\n  onClick(element, callback) {\r\n    if (element) {\r\n      // element.onclick = () => callback();\r\n      element.addEventListener(\"click\", callback);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  set nonce which will be used during ajax requests\r\n   * @param {string} nonce\r\n   */\r\n  setNonce(nonce) {\r\n    this.nonce = nonce;\r\n  }\r\n  /**\r\n   *  set videoId which will be used during view count\r\n   * @param {string} videoId\r\n   */\r\n  setVideoId(videoId) {\r\n    this.videoId = videoId;\r\n  }\r\n\r\n  videoHls() {\r\n    const initializeHls = () => {\r\n      if (!window.Hls?.isSupported()) {\r\n        console.warn(\"Hls does not support\");\r\n      } else {\r\n        // For more Hls.js options, see https://github.com/dailymotion/hls.js\r\n        const hls = new window.Hls();\r\n        hls.loadSource(this.media.src);\r\n\r\n        this.player.on(\"ready\", () => {\r\n          hls.attachMedia(this.player.media);\r\n        });\r\n\r\n        hls.on(Hls.Events.MANIFEST_PARSED, () => {\r\n          if ([\"metadata\", \"none\"].includes(this.options.preload)) {\r\n            setTimeout(() => {\r\n              hls.stopLoad();\r\n            }, 1000);\r\n          }\r\n\r\n          this.player.on(\"play\", function () {\r\n            hls.startLoad();\r\n          });\r\n        });\r\n\r\n        // hls.attachMedia(this.media);\r\n\r\n        this.player?.on(\"languagechange\", () => {\r\n          setTimeout(() => (hls.subtitleTrack = this.player.currentTrack), 50);\r\n        });\r\n      }\r\n    };\r\n    let hlsScript = document.getElementById(\"h5vp-hls-js\");\r\n    // con;\r\n    if (!hlsScript) {\r\n      hlsScript = document.createElement(\"script\");\r\n      hlsScript.setAttribute(\"id\", \"h5vp-hls-js\");\r\n      hlsScript.src = this.local?.hls;\r\n      document.getElementsByTagName(\"head\")[0]?.prepend(hlsScript);\r\n      hlsScript?.addEventListener(\"load\", () => initializeHls());\r\n    } else {\r\n      initializeHls();\r\n    }\r\n  }\r\n\r\n  videoDash() {\r\n    let dashScript = document.getElementById(\"h5vp-dash-js\");\r\n    if (!dashScript) {\r\n      dashScript = document.createElement(\"script\");\r\n      dashScript.setAttribute(\"id\", \"h5vp-dash-js\");\r\n      dashScript.src = this.local?.dash;\r\n      document.getElementsByTagName(\"head\")[0]?.prepend(dashScript);\r\n      dashScript.addEventListener(\"load\", () => {\r\n        const dash = dashjs.MediaPlayer().create();\r\n        dash.initialize(this.media, this.media.src, true);\r\n      });\r\n    } else {\r\n      const dash = dashjs.MediaPlayer().create();\r\n      dash.initialize(this.player.media, this.media.src, true);\r\n      this.player = new Plyr(this.player.media);\r\n    }\r\n  }\r\n\r\n  controlTouchAction() {\r\n    // enable touch only on mobile/tablet.\r\n    if (document.body.offsetWidth > 992) {\r\n      return false;\r\n    }\r\n\r\n    const wrapper = this.player.elements?.container;\r\n\r\n    if (!wrapper) {\r\n      return false;\r\n    }\r\n\r\n    const player = this.player;\r\n    const videoWrapper = wrapper.querySelector(\".plyr__video-wrapper\");\r\n    const span = document.createElement(\"span\");\r\n    span.classList.add(\"seekSecond\");\r\n    videoWrapper.appendChild(span);\r\n\r\n    // disable double click fullscreen | remove default event;\r\n    player.eventListeners.forEach((eventListener) => {\r\n      if (eventListener.type === \"dblclick\") {\r\n        wrapper.removeEventListener(eventListener.type, eventListener.callback, eventListener.options);\r\n      }\r\n    });\r\n\r\n    videoWrapper.parentNode.addEventListener(\"dblclick\", (e) => {\r\n      let rect = e.target.getBoundingClientRect();\r\n      let x = e.clientX - rect.left; //x position within the element.\r\n      if (this.player.fullscreen.active) {\r\n        if (videoWrapper.offsetWidth - 150 < x && videoWrapper.offsetWidth / 2 < x) {\r\n          this.player.forward(this.options.seekTime);\r\n          span.innerText = this.options.seekTime + \" sec\";\r\n        } else if (videoWrapper.offsetWidth / 2 > x && x < 150) {\r\n          this.player.rewind(this.options.seekTime);\r\n          span.innerText = \"-\" + this.options.seekTime + \" sec\";\r\n        }\r\n        setTimeout(() => {\r\n          span.innerText = \"\";\r\n        }, 1000);\r\n      }\r\n\r\n      if (x > 150 && x < videoWrapper.offsetWidth - 150) {\r\n        this.player.fullscreen.toggle();\r\n      }\r\n    });\r\n\r\n    //touch\r\n    wrapper.addEventListener(\r\n      \"touchstart\",\r\n      (e) => {\r\n        if (!this.player.fullscreen.active) return;\r\n        this.touchClientX = e.touches[0].clientX;\r\n        this.touchClientY = e.touches[0].clientY;\r\n      },\r\n      false\r\n    );\r\n\r\n    wrapper.addEventListener(\r\n      \"touchend\",\r\n      (e) => {\r\n        if (!this.player.fullscreen.active) return;\r\n        let deltaX, deltaY;\r\n        deltaX = e.changedTouches[0].clientX - this.touchClientX;\r\n        deltaY = e.changedTouches[0].clientY - this.touchClientX;\r\n\r\n        if (deltaX > 5) {\r\n          player.forward(parseInt(deltaX) / 10);\r\n          span.innerText = parseInt(deltaX / 10) + \" sec\";\r\n        } else if (deltaX < -5) {\r\n          player.rewind(Math.abs(deltaX) / 10);\r\n          span.innerText = parseInt(deltaX / 10) + \" sec\";\r\n        }\r\n\r\n        setTimeout(() => {\r\n          span.innerText = \"\";\r\n        }, 1000);\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {*} player\r\n   */\r\n  pauseOther() {\r\n    if (location.pathname.includes(\"wp-admin\")) return false;\r\n    if (window.hpublic?.pauseOther) {\r\n      this.player.on(\"play\", () => {\r\n        const id = this.player.elements.fullscreen?.dataset?.uniqueId;\r\n        const players = document.querySelectorAll(`video:not([data-unique-id=\"${id}\"] video, a video)`);\r\n\r\n        players.forEach((player) => player.pause());\r\n      });\r\n    }\r\n  }\r\n\r\n  domAttributesToObjectList(elements) {\r\n    const resultArray = [];\r\n\r\n    elements.forEach((element) => {\r\n      const attributes = element.attributes;\r\n      const result = {};\r\n\r\n      for (let i = 0; i < attributes.length; i++) {\r\n        const attribute = attributes[i];\r\n        result[attribute.name] = attribute.value;\r\n      }\r\n\r\n      resultArray.push(result);\r\n    });\r\n\r\n    return resultArray;\r\n  }\r\n}\r\n\r\nexport const extractFileNamesWithoutExtension = (filePath) => {\r\n  const parts = filePath.split(\"/\");\r\n  const fileNameWithExtension = parts[parts.length - 1];\r\n  const fileNameWithoutExtension = fileNameWithExtension.replace(/\\.[^/.]+$/, \"\");\r\n  return fileNameWithoutExtension;\r\n};\r\n\r\nexport default MyPlayer;\r\n","import \"./style.scss\";\r\n\r\nconst Overlay = ({ enabled, items }) => {\r\n  if (!enabled) {\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      {items.map((item, index) => {\r\n        return (\r\n          <>\r\n            <style>\r\n              {`\r\n              .overlay_item_${index} p{\r\n                padding: 5px 12px;\r\n              }\r\n              .overlay_item_${index} p,\r\n              .overlay_item_${index} img,\r\n              .overlay_item_${index} a {\r\n              color: ${item.color};\r\n              font-size: ${item.fontSize};\r\n              background-color: ${item.backgroundColor};\r\n              border-radius: 3px px;\r\n              opacity: ${item.opacity}\r\n            }\r\n            .overlay_item_${index} a:hover,\r\n            .overlay_item_${index} p:hover {\r\n              color: ${item.hoverColor};\r\n            }\r\n            `.replace(/\\s+/g, \" \")}\r\n            </style>\r\n            <div key={index} className={`h5vp_overlay ${item.position} overlay_item_${index}`}>\r\n              {item.type === \"text\" ? (\r\n                <p>\r\n                  {item.link ? (\r\n                    <a href={item.link} rel=\"noreferrer\" target=\"_blank\">\r\n                      {item.text}\r\n                    </a>\r\n                  ) : (\r\n                    <>{item.text}</>\r\n                  )}\r\n                </p>\r\n              ) : item.link ? (\r\n                <a className=\"background-transparent\" href={item.link} rel=\"noreferrer\" target=\"_blank\">\r\n                  <img src={item.logo} />\r\n                </a>\r\n              ) : (\r\n                <img src={item.logo} />\r\n              )}\r\n            </div>\r\n          </>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Overlay;\r\n","import { useEffect } from \"react\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nimport \"./style.scss\";\r\n\r\nconst PopupOpener = ({ setOpen, popup, poster }) => {\r\n  const { align, enabled, btnStyle, hasBtn, selector, type, btnText } = popup;\r\n  const { padding, ...popupBtnStyle } = btnStyle || {};\r\n\r\n  useEffect(() => {\r\n    if (type === \"button\" && hasBtn && selector && enabled) {\r\n      document.querySelector([\".\", \"#\", \"[\"].includes(selector) ? `${selector}` : `.${selector}`)?.addEventListener(\"click\", () => {\r\n        setOpen(true);\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {enabled && (\r\n        <div className={type === \"button\" ? `flex justify-${align}` : \"\"}>\r\n          {!hasBtn || type === \"poster\" ? (\r\n            <>\r\n              {type === \"button\" ? (\r\n                <button className=\"popup_opener\" onClick={() => setOpen(true)} style={{ ...popupBtnStyle, padding: Object.values(padding).join(\" \") }}>\r\n                  {btnText}\r\n                </button>\r\n              ) : (\r\n                <>\r\n                  {poster ? (\r\n                    <div className=\"popup_opener\">\r\n                      <svg aria-hidden=\"true\" focusable=\"false\" className=\"popup_play\" onClick={() => setOpen(true)}>\r\n                        <use xlinkHref=\"#plyr-play\"></use>\r\n                      </svg>\r\n                      <img src={poster} width=\"100%\" />\r\n                    </div>\r\n                  ) : (\r\n                    <h3>Poster missing</h3>\r\n                  )}\r\n                </>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <></>\r\n          )}\r\n\r\n          <span onClick={() => setOpen(false)} className=\"close\">\r\n            &times;\r\n          </span>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PopupOpener;\r\n","import React from \"react\";\r\n\r\nconst Video = ({ captions, poster, source, qualities, isPremium, className = \"\", reference, ...props }) => {\r\n  return (\r\n    <>\r\n      <video className={className} id=\"player\" data-poster={poster || \"\"} ref={reference} src={source} {...props} style={{ width: \"100%\", maxWidth: \"100%\" }}>\r\n        {/* Captions / Subtitles */}\r\n        {isPremium && (\r\n          <>\r\n            {Array.isArray(captions) &&\r\n              captions.map((caption, index) => {\r\n                if (!caption.caption_file) {\r\n                  return;\r\n                }\r\n                const info = caption.label.split(\"/\");\r\n                return <track key={index} kind=\"captions\" srcLang={info[1] || \" \"} label={info[0] || \"no label\"} src={caption.caption_file} />;\r\n              })}\r\n\r\n            {/* Qualities */}\r\n            {![\"m3u8\", \"mpd\"].includes(source.split(\".\").pop()) && (\r\n              <>\r\n                <source src={source} size={720} type={`video/${source?.split(\".\").pop()}`} />\r\n                {Array.isArray(qualities) &&\r\n                  qualities.map((item, index) => {\r\n                    return <source key={index} src={item.video_file} size={item.size} type=\"video/mp4\" />;\r\n                  })}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </video>\r\n      {props[\"data-poster\"] && <div className=\"preload_poster\" style={{ background: `url(${props[\"data-poster\"]})` }}></div>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Video;\r\n","/* eslint-disable react/no-unknown-property */\r\n\r\nconst Youtube = ({ source = \"https://www.youtube.com/watch?v=MLpWrANjFbI\", className = \"\", ...props }) => {\r\n  return (\r\n    <div className={`plyr__video-embed ${className}`} id=\"player\" {...props}>\r\n      <iframe\r\n        src={`${source}?origin=${window.location.origin}&iv_load_policy=3&amp;modestbranding=1&amp;playsinline=1&amp;showinfo=0&amp;rel=0&amp;enablejsapi=1`}\r\n        // src={`${source}&feature=youtu.be`}\r\n        allowfullscreen\r\n        allowtransparency\r\n        allow=\"autoplay\"\r\n      ></iframe>\r\n      {props[\"data-poster\"] && <div className=\"preload_poster\" style={{ background: `url(${props[\"data-poster\"]})` }}></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Youtube;\r\n","function isVimeoLink(source) {\r\n  if (!source) return false;\r\n  // Regular expression pattern to match Vimeo video URLs\r\n  const vimeoPattern = /^(https?:\\/\\/)?(www\\.)?(player\\.)?vimeo\\.com\\/(video\\/)?(\\d+)(\\/[^\\s]*)?$/;\r\n\r\n  const id = source?.match(vimeoPattern)?.[5];\r\n\r\n  if (id) {\r\n    return `https://player.vimeo.com/video/${id}`;\r\n  }\r\n\r\n  if (!isNaN(source)) {\r\n    return `https://player.vimeo.com/video/${source}`;\r\n  }\r\n  return vimeoPattern.test(source);\r\n}\r\n\r\nexport default isVimeoLink;\r\n","import { useEffect, useRef } from \"react\";\r\nimport \"./style.scss\";\r\n\r\nconst EndScreen = ({ endScreen, player }) => {\r\n  const { enabled, text, btnText, btnLink } = endScreen;\r\n\r\n  const endScreenRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    player?.player?.on(\"ended\", () => {\r\n      console.log(\"ended\");\r\n      if (enabled) {\r\n        player.player.stop();\r\n        endScreenRef.current.style.display = \"block\";\r\n        console.log(\"workign\");\r\n      }\r\n    });\r\n  }, [player]);\r\n\r\n  const handleClose = () => {\r\n    endScreenRef.current.style.display = \"none\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {enabled && (\r\n        <>\r\n          <div ref={endScreenRef} className=\"h5vp_end_screen\">\r\n            <span className=\"close\" onClick={handleClose}>\r\n              &times;\r\n            </span>\r\n            <div className=\"content\">\r\n              <p>{text}</p>\r\n              {btnText && (\r\n                <a target=\"_blank\" rel=\"noreferrer\" href={btnLink}>\r\n                  {btnText}\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EndScreen;\r\n","function camelToKebabCase(inputString) {\r\n  return inputString.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\r\n}\r\n\r\nexport default camelToKebabCase;\r\n","import { useEffect, useState } from \"react\";\r\nimport camelToKebabCase from \"../utils/camelToKebabCase\";\r\n\r\nconst Style = ({ styles = {}, uniqueId }) => {\r\n  // console.log({ uniqueId });\r\n  const [CSS, setCSS] = useState(null);\r\n  useEffect(() => {\r\n    let css = \"\";\r\n    if (typeof styles === \"object\") {\r\n      Object.keys(styles).map((key) => {\r\n        if (typeof styles[key] === \"object\") {\r\n          let itemCSS = \"\";\r\n          Object.keys(styles[key]).map((key2) => {\r\n            itemCSS += `${camelToKebabCase(key2)}: ${styles[key][key2]};`;\r\n          });\r\n          css += `#${uniqueId} ${[\".\", \"#\"].includes(key[0]) ? \"\" : \".\"}${key}{${itemCSS}} `;\r\n        }\r\n      });\r\n    }\r\n    setCSS(css);\r\n  }, [styles, uniqueId]);\r\n\r\n  return <style dangerouslySetInnerHTML={{ __html: CSS }}></style>;\r\n};\r\n\r\nexport default Style;\r\n","import React from \"react\";\r\n\r\nconst Vimeo = ({ source = \"https://player.vimeo.com/video/76979871\", className = \"\", ...props }) => {\r\n  return (\r\n    <div className={`plyr__video-embed ${className}`} id=\"player\" {...props}>\r\n      <iframe\r\n        src={`${source}?loop=false&amp;byline=false&amp;portrait=false&amp;title=false&amp;speed=true&amp;transparent=0&amp;gesture=media`}\r\n        allowfullscreen\r\n        // eslint-disable-next-line react/no-unknown-property\r\n        allowtransparency\r\n        allow=\"autoplay\"\r\n      ></iframe>\r\n      {props[\"data-poster\"] && <div className=\"preload_poster\" style={{ background: `url(${props[\"data-poster\"]})` }}></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Vimeo;\r\n","function generateUniqueID(length) {\r\n  const charset = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"; // You can customize the characters here\r\n  let randomString = \"\";\r\n\r\n  for (let i = 0; i < length; i++) {\r\n    const randomIndex = Math.floor(Math.random() * charset.length);\r\n    randomString += charset.charAt(randomIndex);\r\n  }\r\n\r\n  return randomString;\r\n}\r\n\r\nexport default generateUniqueID;\r\n","import { useEffect, useState, useRef } from \"react\";\r\n\r\nimport \"./style.scss\";\r\nimport \"./../../public/css/h5vp.css\";\r\nimport MyPlayer, { extractFileNamesWithoutExtension } from \"../public/MyPlayer\";\r\nimport Overlay from \"./Overlay/Overlay\";\r\nimport PopupOpener from \"./PopupOpener/PopupOpener\";\r\nimport Video from \"./Video\";\r\nimport { isYoutubeURL, useWPAjax } from \"../../../wp-utils/v1\";\r\nimport Youtube from \"./Youtube\";\r\nimport isVimeoLink from \"../utils/isVimeoLink\";\r\nimport EndScreen from \"./EndScreen/EndScreen\";\r\nimport Style from \"./Style\";\r\nimport Vimeo from \"./Vimeo\";\r\nimport generateUniqueID from \"../../../wp-utils/v1/generateUniqueId\";\r\n\r\n/**\r\n *\r\n * @param {attributes} props\r\n * @param {nonce} props\r\n * @returns\r\n */\r\n\r\nconst VideoPlayer = ({ attributes, nonce = window.h5vpBlock?.nonce }) => {\r\n  const { additionalCSS, additionalID, source, poster, provider, qualities, captions, options, features, uniqueId, styles } = attributes;\r\n  window.attributes = attributes;\r\n  const { popup, overlay, endScreen, hideYoutubeUI } = features;\r\n  const [player, setPlayer] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n  const [videoSource, setVideoSource] = useState(provider === \"library\" ? \"self-hosted\" : provider);\r\n  const { autoplay, muted, loop } = options;\r\n  const { data: isPremium, isLoading } = useWPAjax(\"pipe_handler\", { nonce });\r\n  const { data: videoId, refetch } = useWPAjax(\"h5vp_ajax_handler\", { nonce, method: \"create\", model: \"Video\" }, true);\r\n\r\n  const playerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      player?.player.play();\r\n    } else {\r\n      player?.player.pause();\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    playerRef.media = playerRef.current?.querySelector(\"#player\");\r\n  }, [playerRef]);\r\n\r\n  //initialize player\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      const media = playerRef.current?.querySelector(\"#player\");\r\n      if (media) {\r\n        const player = new MyPlayer(media, options, { ...features, qualities, captions });\r\n        setPlayer(player);\r\n      }\r\n    }, 100);\r\n\r\n    return () => {\r\n      player?.player?.destroy();\r\n    };\r\n  }, [options, features, qualities, captions, playerRef.current]);\r\n\r\n  useEffect(() => {\r\n    if (player && !player?.nonce) {\r\n      player.setNonce(nonce);\r\n    }\r\n    if (player && !player?.videoId) {\r\n      player.setVideoId(videoId);\r\n    }\r\n  }, [nonce, videoId]);\r\n\r\n  useEffect(() => {\r\n    if (player) {\r\n      player.setIsPremium(isPremium);\r\n    }\r\n    if (!isLoading && !isPremium && videoSource !== \"self-hosted\") {\r\n      player?.destroy();\r\n    }\r\n  }, [isPremium, isLoading, videoSource]);\r\n\r\n  useEffect(() => {\r\n    if (!videoSource) {\r\n      if (isYoutubeURL(source)) {\r\n        setVideoSource(\"youtube\");\r\n      } else if (isVimeoLink(source)) {\r\n        setVideoSource(\"vimeo\");\r\n      } else {\r\n        setVideoSource(\"self-hosted\");\r\n      }\r\n    }\r\n  }, [source]);\r\n\r\n  useEffect(() => {\r\n    if (source && videoSource) {\r\n      refetch({ src: source, type: videoSource, title: extractFileNamesWithoutExtension(source) });\r\n    }\r\n  }, [source, videoSource]);\r\n\r\n  useEffect(() => {\r\n    if (player?.player) {\r\n      player.player.poster = poster;\r\n      player.player.source = source;\r\n    }\r\n  }, [source, poster]);\r\n\r\n  return (\r\n    <div ref={playerRef} id={uniqueId} className={`h5vp_player_temp  ${popup.enabled ? \"h5vp_popup_enabled\" : \"\"} ${open ? \"h5vp_popup_open\" : \"\"}`}>\r\n      <Style styles={styles} uniqueId={uniqueId} />\r\n\r\n      <style>{additionalCSS}</style>\r\n\r\n      {isPremium && <PopupOpener setOpen={setOpen} popup={popup} poster={poster} />}\r\n\r\n      <div className={`plyr_wrapper ${hideYoutubeUI ? \"hideUI\" : \"\"}`} id={additionalID} data-unique-id={generateUniqueID(5)}>\r\n        {/* {isPremium && ( */}\r\n        <>\r\n          {videoSource === \"vimeo\" && <Vimeo source={isVimeoLink(source)} />}\r\n          {videoSource === \"youtube\" && <Youtube source={isYoutubeURL(source)} />}\r\n        </>\r\n        {/* )} */}\r\n        {videoSource === \"self-hosted\" && (\r\n          <Video\r\n            qualities={qualities}\r\n            captions={captions}\r\n            source={source}\r\n            poster={poster}\r\n            autoPlay={autoplay}\r\n            muted={muted}\r\n            loop={loop?.active}\r\n            // src={source}\r\n            preload={options.preload}\r\n            isPremium={isPremium}\r\n            playsInline={options.playsinline}\r\n          />\r\n        )}\r\n        {isPremium && (\r\n          <>\r\n            <EndScreen endScreen={endScreen} player={player} />\r\n            <Overlay {...overlay} player={player?.player} />\r\n          </>\r\n        )}\r\n        {/* <Toaster */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n","const { Fragment, useEffect, useState } = wp.element;\r\nconst { __ } = wp.i18n;\r\nconst { MediaUpload, MediaUploadCheck } = wp.blockEditor;\r\nconst { Button, Placeholder } = wp.components;\r\n\r\nimport BSettings from \"./../Components/BSettings\";\r\nimport VideoPlayer from \"../../components/VideoPlayer\";\r\n\r\nconst Edit = (props) => {\r\n  const classes = \"h5vp_player \";\r\n  const [isPremium, setIsPremium] = useState(h5vpBlock?.isPipe);\r\n  const { attributes, setAttributes, isSelected } = props;\r\n\r\n  const { source } = attributes;\r\n\r\n  const [mediaSource, setMediaSource] = useState();\r\n  const [valid, setValid] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsPremium(h5vpBlock?.isPipe == 1);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isSelected) {\r\n      wp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"edit-post/block\");\r\n    }\r\n  }, [isSelected]);\r\n\r\n  const handleApply = (event) => {\r\n    event.preventDefault();\r\n    if (!validURL(mediaSource)) {\r\n      setValid(false);\r\n      return false;\r\n    }\r\n    // createVideo();\r\n    setValid(true);\r\n    setAttributes({ source: mediaSource });\r\n    setMediaSource(\"\");\r\n  };\r\n\r\n  const validURL = (str) => {\r\n    var pattern = new RegExp(\"https?\", \"i\"); // fragment locator\r\n    return !!pattern.test(str);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* {!h5vpBlock?.isPipe && <PremiumPopup />} */}\r\n\r\n      {!isSelected && <div className=\"item_selected\"></div>}\r\n      {source ? (\r\n        <Fragment>\r\n          <BSettings {...props} isPremium={isPremium} />\r\n          {/* <Player classes={classes} attributes={attributes} /> */}\r\n          <VideoPlayer attributes={attributes} isSelected={isSelected} />\r\n        </Fragment>\r\n      ) : (\r\n        <Fragment>\r\n          <Placeholder\r\n            icon={\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"24\"\r\n                height=\"24\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                className=\"html5-block-icon\"\r\n              >\r\n                <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\r\n                <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\r\n              </svg>\r\n            }\r\n            instructions={__(\"Upload a video or paste/write video url to get started.\", \"h5vp\")}\r\n            label={__(\"Upload a Video \", \"h5vp\")}\r\n          >\r\n            <MediaUploadCheck>\r\n              <MediaUpload\r\n                type={[\"image\"]}\r\n                onSelect={(source) => setAttributes({ source: source.url })}\r\n                render={({ open }) => (\r\n                  <Button isPrimary onClick={open}>\r\n                    {__(\"Upload\", \"h5vp\")}\r\n                  </Button>\r\n                )}\r\n              />\r\n            </MediaUploadCheck>\r\n            <div className=\"h5vpUrlInput\">\r\n              <h3 style={{ fontSize: \"15px\" }}> Or </h3>\r\n              <input\r\n                type=\"url\"\r\n                aria-label={__(\"URL\", \"h5vp\")}\r\n                placeholder={__(\"Paste or type a video URL\", \"h5vp\")}\r\n                onChange={(src) => {\r\n                  setValid(true);\r\n                  setMediaSource(src.target.value);\r\n                }}\r\n                value={mediaSource}\r\n              />\r\n              <Button label={__(\"Apply\", \"h5vp\")} type=\"submit\" onClick={handleApply} isPrimary>\r\n                {__(\"Apply\", \"h5vp\")}\r\n              </Button>\r\n            </div>\r\n            {!valid && <p style={{ color: \"#bd1818\", width: \"100%\", margin: 0 }}>{__(\"URL is not valid\", \"h5vp\")}</p>}\r\n          </Placeholder>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","const { __ } = wp.i18n;\r\nconst { registerBlockType } = wp.blocks;\r\n\r\nimport Edit from \"./Edit\";\r\nimport metadata from \"./../../../blocks/video/block.json\";\r\n\r\nimport \"./../dashboard.common.scss\";\r\n\r\nregisterBlockType(metadata, {\r\n  // getEditWrapperProps: () => {},\r\n  edit: Edit,\r\n  save: () => {\r\n    return null;\r\n  },\r\n});\r\n","const { Fragment, useEffect, useState } = wp.element;\r\nconst { __ } = wp.i18n;\r\nconst { Button, Placeholder } = wp.components;\r\nimport BSettings from \"./../Components/BSettings\";\r\nimport VideoPlayer from \"../../components/VideoPlayer\";\r\nimport { isYoutubeURL } from \"../../../../wp-utils/v1\";\r\n\r\nconst Edit = (props) => {\r\n  const [isPremium, setIsPremium] = useState(h5vpBlock?.isPipe);\r\n  const { attributes, setAttributes, isSelected } = props;\r\n\r\n  const { source } = attributes;\r\n\r\n  const [mediaSource, setMediaSource] = useState();\r\n  const [valid, setValid] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsPremium(h5vpBlock?.isPipe == 1);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isSelected) {\r\n      wp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"edit-post/block\");\r\n    }\r\n  }, [isSelected]);\r\n\r\n  const handleApply = (event) => {\r\n    event.preventDefault();\r\n    if (!isYoutubeURL(mediaSource)) {\r\n      setValid(false);\r\n      return false;\r\n    }\r\n    // createVideo();\r\n    setValid(true);\r\n    setAttributes({ source: mediaSource });\r\n    setMediaSource(\"\");\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* {!h5vpBlock?.isPipe && <PremiumPopup />} */}\r\n\r\n      {!isSelected && <div className=\"item_selected\"></div>}\r\n      {source ? (\r\n        <Fragment>\r\n          <BSettings {...props} isPremium={isPremium} />\r\n          {/* <Player classes={classes} attributes={attributes} /> */}\r\n          {isPremium ? <VideoPlayer attributes={attributes} isSelected={isSelected} /> : <h2 className=\"text-danger\">{__(\"sorry, it's a premium feature\", \"h5vp\")}</h2>}\r\n        </Fragment>\r\n      ) : (\r\n        <Fragment>\r\n          <Placeholder\r\n            icon={\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"24\"\r\n                height=\"24\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                className=\"html5-block-icon\"\r\n              >\r\n                <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\r\n                <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\r\n              </svg>\r\n            }\r\n            instructions={__(\"Upload a video or paste/write video url to get started.\", \"h5vp\")}\r\n            label={__(\"Upload a Video \", \"h5vp\")}\r\n          >\r\n            <div className=\"h5vpUrlInput\">\r\n              <input\r\n                type=\"url\"\r\n                aria-label={__(\"URL\", \"h5vp\")}\r\n                placeholder={__(\"Paste or type a youtube video URL\", \"h5vp\")}\r\n                onChange={(src) => {\r\n                  setValid(true);\r\n                  setMediaSource(src.target.value);\r\n                }}\r\n                value={mediaSource}\r\n              />\r\n              <Button label={__(\"Apply\", \"h5vp\")} type=\"submit\" onClick={handleApply} isPrimary>\r\n                {__(\"Apply\", \"h5vp\")}\r\n              </Button>\r\n            </div>\r\n            {!valid && <p style={{ color: \"#bd1818\", width: \"100%\", margin: 0 }}>{__(\"URL is not valid\", \"h5vp\")}</p>}\r\n          </Placeholder>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","// import attributes from \"./../Components/attributes\";\r\nimport Edit from \"./Edit\";\r\n\r\nconst { registerBlockType } = wp.blocks;\r\n\r\nimport metadata from \"./../../../blocks/youtube/block.json\";\r\n\r\nif (window.h5vpBlock?.isPipe || typeof window.h5vpBlock === \"undefined\") {\r\n  registerBlockType(metadata, {\r\n    icon: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"682pt\" height=\"682pt\" viewBox=\"-21 -117 682.667 682\">\r\n        <path d=\"M626.813 64.035c-7.375-27.418-28.993-49.031-56.407-56.414C520.324-6.082 319.992-6.082 319.992-6.082s-200.324 0-250.406 13.184c-26.887 7.375-49.031 29.52-56.406 56.933C0 114.113 0 217.97 0 217.97s0 104.379 13.18 153.933c7.382 27.414 28.992 49.028 56.41 56.41C120.195 442.02 320 442.02 320 442.02s200.324 0 250.406-13.184c27.418-7.379 49.032-28.992 56.414-56.406 13.176-50.082 13.176-153.934 13.176-153.934s.527-104.383-13.183-154.46zM256.21 313.915V122.022l166.586 95.946zm0 0\"></path>\r\n      </svg>\r\n    ),\r\n    getEditWrapperProps: () => {},\r\n    edit: Edit,\r\n    save: () => {\r\n      return null;\r\n    },\r\n    example: {\r\n      attributes: true,\r\n    },\r\n  });\r\n}\r\n// import Edit from \"./Edit\";\r\n","const { Fragment, useEffect, useState } = wp.element;\r\nconst { __ } = wp.i18n;\r\nconst { MediaUpload, MediaUploadCheck } = wp.blockEditor;\r\nconst { Button, Placeholder } = wp.components;\r\nimport BSettings from \"./../Components/BSettings\";\r\nimport VideoPlayer from \"../../components/VideoPlayer\";\r\nimport isVimeoLink from \"../../utils/isVimeoLink\";\r\n\r\nconst Edit = (props) => {\r\n  const classes = \"h5vp_player \";\r\n  const [isPremium, setIsPremium] = useState(h5vpBlock?.isPipe);\r\n  const { attributes, setAttributes, isSelected } = props;\r\n\r\n  const { source } = attributes;\r\n\r\n  const [mediaSource, setMediaSource] = useState();\r\n  const [valid, setValid] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsPremium(h5vpBlock?.isPipe == 1);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isSelected) {\r\n      wp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"edit-post/block\");\r\n    }\r\n  }, [isSelected]);\r\n\r\n  const handleApply = (event) => {\r\n    event.preventDefault();\r\n    if (!isVimeoLink(mediaSource)) {\r\n      setValid(false);\r\n      return false;\r\n    }\r\n    // createVideo();\r\n    setValid(true);\r\n    setAttributes({ source: mediaSource });\r\n    setMediaSource(\"\");\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* {!h5vpBlock?.isPipe && <PremiumPopup />} */}\r\n\r\n      {!isSelected && <div className=\"item_selected\"></div>}\r\n      {source ? (\r\n        <Fragment>\r\n          <BSettings {...props} isPremium={isPremium} />\r\n          {/* <Player classes={classes} attributes={attributes} /> */}\r\n          {isPremium ? <VideoPlayer attributes={attributes} isSelected={isSelected} /> : <h2>{__(\"sorry, it's a premium feature!\", \"h5vp\")}</h2>}\r\n        </Fragment>\r\n      ) : (\r\n        <Fragment>\r\n          <Placeholder\r\n            icon={\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"24\"\r\n                height=\"24\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                className=\"html5-block-icon\"\r\n              >\r\n                <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\r\n                <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\r\n              </svg>\r\n            }\r\n            instructions={__(\"Upload a video or paste/write video url to get started.\", \"h5vp\")}\r\n            label={__(\"Upload a Video \", \"h5vp\")}\r\n          >\r\n            <div className=\"h5vpUrlInput\">\r\n              <input\r\n                type=\"url\"\r\n                aria-label={__(\"URL\", \"h5vp\")}\r\n                placeholder={__(\"Paste or type a vimeo video URL/ID\", \"h5vp\")}\r\n                onChange={(src) => {\r\n                  setValid(true);\r\n                  setMediaSource(src.target.value);\r\n                }}\r\n                value={mediaSource}\r\n              />\r\n              <Button label={__(\"Apply\", \"h5vp\")} type=\"submit\" onClick={handleApply} isPrimary>\r\n                {__(\"Apply\", \"h5vp\")}\r\n              </Button>\r\n            </div>\r\n            {!valid && <p style={{ color: \"#bd1818\", width: \"100%\", margin: 0 }}>{__(\"URL is not valid\", \"h5vp\")}</p>}\r\n          </Placeholder>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","const { registerBlockType } = wp.blocks;\r\n\r\nimport Edit from \"./Edit\";\r\nimport metadata from \"./../../../blocks/vimeo/block.json\";\r\n\r\nif (window.h5vpBlock?.isPipe || typeof window.h5vpBlock === \"undefined\") {\r\n  registerBlockType(metadata, {\r\n    icon: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" viewBox=\"0 0 24 24\">\r\n        <path d=\"M20.497 1.505c-3.328-.121-5.576 1.787-6.762 5.694a4.312 4.312 0 011.777-.395c1.219 0 1.758.697 1.614 2.082-.072.839-.608 2.059-1.612 3.664-1.009 1.605-1.763 2.409-2.265 2.409-1.522 0-2.437-7.284-2.747-9.273-.431-2.765-1.58-4.058-3.447-3.877C5.341 1.972 2.35 5.058 0 7.15l1.129 1.472C2.204 7.86 2.831 7.478 3.01 7.478c1.871 0 2.777 6.367 4.23 11.102.975 2.613 2.144 3.92 3.553 3.92 2.264 0 5.022-2.144 8.29-6.434 3.155-4.107 4.789-7.344 4.894-9.705l.013-.01c.134-3.165-1.021-4.785-3.493-4.846z\"></path>\r\n      </svg>\r\n    ),\r\n    getEditWrapperProps: () => {},\r\n    edit: Edit,\r\n    save: () => {\r\n      return null;\r\n    },\r\n  });\r\n}\r\n","// import PremiumPopup from \"../Components/premiumPopop\";\r\n\r\n// In your application's entrypoint\r\nconst { __ } = wp.i18n;\r\nconst { InnerBlocks, useBlockProps } = wp.blockEditor;\r\nconst { useSelect, dispatch } = wp.data;\r\nconst { Button, Placeholder, Modal } = wp.components;\r\nconst { useEffect } = wp.element;\r\nconst { registerBlockType } = wp.blocks;\r\nimport { useState } from \"react\";\r\n// import { Tooltip } from \"@wordpress/components\";\r\n\r\nregisterBlockType(\"html5-player/parent\", {\r\n  title: __(\"HTML5 Video Player Form\", \"h5vp\"),\r\n  icon: \"format-video\",\r\n  category: \"media\",\r\n  keywords: [__(\"HTML5 Video Player\", \"h5vp\"), __(\"Media Player\", \"h5vp\")],\r\n  supports: {\r\n    inserter: false,\r\n    reusable: false,\r\n    html: false,\r\n  },\r\n\r\n  edit: (props) => {\r\n    const blockProps = useBlockProps();\r\n    const { clientId, isSelected } = props;\r\n    const innerBlocks = useSelect((select) => select(\"core/block-editor\").getBlock(clientId).innerBlocks);\r\n    const [isPremium, setIsPremium] = useState(h5vpBlock?.isPipe);\r\n\r\n    useEffect(() => {\r\n      if (isSelected) {\r\n        wp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"edit-post/block\");\r\n      }\r\n    }, [isSelected]);\r\n\r\n    // make sure we don't check template validity because is's buggy as fuck\r\n    dispatch(\"core/block-editor\").setTemplateValidity(true);\r\n\r\n    // don't add reusable videos to a reusable video\r\n\r\n    const insertBlockType = (type) => {\r\n      const block = wp.blocks.createBlock(`html5-player/${type}`);\r\n      return dispatch(\"core/block-editor\").insertBlock(block, 0, clientId);\r\n    };\r\n\r\n    const appenderToUse = () => {\r\n      if (innerBlocks.length === 0) {\r\n        return <InnerBlocks.ButtonBlockAppender />;\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    if (!innerBlocks?.length) {\r\n      return (\r\n        <div>\r\n          {/* {!h5vpBlock?.isPipe && <PremiumPopup />} */}\r\n          <div {...blockProps}>\r\n            <Placeholder\r\n              icon={\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"24\"\r\n                  height=\"24\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"2\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  className=\"html5-block-icon\"\r\n                >\r\n                  <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\r\n                  <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\r\n                </svg>\r\n              }\r\n              instructions={__(\"Choose a video type to get started.\", \"h5vp\")}\r\n              label={__(\"Choose a Video Type\", \"h5vp\")}\r\n            >\r\n              <Button\r\n                isPrimary\r\n                onClick={() => {\r\n                  insertBlockType(\"video\");\r\n                }}\r\n              >\r\n                {__(\"Video\", \"h5vp\")}\r\n              </Button>\r\n              <Button\r\n                disabled={!isPremium}\r\n                isPrimary\r\n                onClick={() => {\r\n                  insertBlockType(\"youtube\");\r\n                }}\r\n              >\r\n                {__(\"Youtube\", \"h5vp\")}\r\n              </Button>\r\n              <Button\r\n                disabled={!isPremium}\r\n                isPrimary\r\n                onClick={() => {\r\n                  insertBlockType(\"vimeo\");\r\n                }}\r\n              >\r\n                {__(\"Vimeo\", \"h5vp\")}\r\n              </Button>\r\n              {!isPremium && <p style={{ marginTop: \"8px\", fontSize: \"15px\", color: \"#d52525\" }}>{__(\"Youtube and Vimeo is available on pro version!\", \"h5vp\")}</p>}\r\n            </Placeholder>\r\n            <InnerBlocks templateLock={false} allowedBlocks={[\"html5-player/video\", \"html5-player/vimeo\", \"html5-player/youtube\"]} renderAppender={() => false} />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div {...blockProps}>\r\n          <InnerBlocks templateLock={false} allowedBlocks={[\"html5-player/video\", \"html5-player/vimeo\", \"html5-player/youtube\"]} renderAppender={() => appenderToUse()} />\r\n        </div>\r\n      </div>\r\n    );\r\n  },\r\n\r\n  save: () => {\r\n    const blockProps = useBlockProps.save();\r\n    return (\r\n      <div {...blockProps}>\r\n        <InnerBlocks.Content />\r\n      </div>\r\n    );\r\n  },\r\n});\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","NOTHING","Symbol","for","DRAFTABLE","DRAFT_STATE","die","error","args","Error","getPrototypeOf","isDraft","value","isDraftable","isPlainObject","Array","isArray","constructor","isMap","isSet","objectCtorString","toString","proto","Ctor","Function","each","iter","getArchtype","entries","forEach","entry","index","thing","state","type_","has","set","propOrOldValue","t","add","target","Map","Set","latest","copy_","base_","shallowCopy","base","strict","slice","create","assign","descriptors","getOwnPropertyDescriptors","keys","Reflect","ownKeys","i","length","desc","writable","configurable","freeze","deep","isFrozen","clear","delete","dontMutateFrozenCollections","_key","currentScope","plugins","getPlugin","pluginKey","plugin","getCurrentScope","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","drafts_","revokeDraft","parent_","enterScope","immer2","immer_","canAutoFreeze_","unfinalizedDrafts_","createScope","draft","revoke_","revoked_","processResult","result","baseDraft","modified_","finalize","maybeFreeze","generateReplacementPatches_","rootScope","path","childValue","finalizeProperty","scope_","finalized_","resultEach","isSet2","generatePatches_","parentState","targetObject","rootPath","targetIsSet","res","assigned_","concat","autoFreeze_","objectTraps","source","getDescriptorFromProto","draft_","readPropFromProto","peek","prepareCopy","createProxy","current2","currentState","x","y","markChanged","Number","isNaN","deleteProperty","getOwnPropertyDescriptor","owner","setPrototypeOf","arrayTraps","useStrictShallowCopy_","fn","arguments","apply","this","parent","proxyMap_","proxySet_","isManual_","traps","revoke","proxy","Proxy","revocable","createProxyProxy","push","currentImpl","copy","immer","config","produce","recipe","defaultBase","self","base2","hasError","p","ip","produceWithPatches","patches","inversePatches","autoFreeze","setAutoFreeze","useStrictShallowCopy","setUseStrictShallowCopy","createDraft","current","finishDraft","applyPatches","patch","op","applyPatchesImpl","applyPatches_","bind","__","wp","i18n","PanelBody","PanelRow","FormToggle","components","_ref","attributes","options","updateOption","controls","controlSettings","label","control","React","createElement","map","_ref2","htmlFor","className","id","checked","includes","onChange","originalControls","item","newControls","filter","handleControl","Fragment","element","MediaUpload","MediaUploadCheck","blockEditor","Button","TextControl","type","onSelect","placeholder","image","url","render","open","onClick","icon","fileUrl","action","params","undefined","isLoading","setIsLoading","useState","isError","setIsError","setError","data","setData","ajax","console","sendRequest","payload","post","done","fail","request","async","useEffect","saveData","refetch","html","temp","document","innerHTML","content","firstChild","input","test","isPremium","Component","setOpen","restProps","_extends","labelMiddleWare","val","__experimentalNumberControl","NumberControl","SelectControl","TextareaControl","ButtonGroup","setAttributes","handleOptions","handleFeatures","name","poster","library","protected","bProtected","password","protectedText","features","autoplay","muted","hideControls","seekTime","preload","ratio","ads","playsinline","resetOnEnd","loop","urls","hideYoutubeUI","playWhenVisible","disablePause","thumbInPause","sticky","startTime","hideLoadingPlaceholder","isYoutubeURL","title","initialOpen","BMediaUpload","help","BControlPro","ToggleControl","enabled","download","active","labelPosition","position","isShiftStepEnabled","parseInt","shiftStep","parseFloat","step","tagUrl","Dropdown","ColorPicker","props","defaultColor","disableAlpha","boxPosition","globalColors","setState","renderToggle","isOpen","onToggle","style","display","backgroundColor","renderContent","onClose","color","onChangeComplete","c","rgb","r","g","b","hex","items","overlay","fontSize","link","logo","text","opacity","handleOverlay","UnitControl","BColor","RangeControl","min","max","captionEnabled","subtitle","handleSubtitle","property","newSubtitle","PremiumText","caption_file","splice","removSubtitle","isPrimary","captions","quality","handleQuality","newQuality","size","video_file","removQuality","watermark","updateWatermark","marginBottom","__nextHasNoMarginBottom","__experimentalUnitControl","updateFeatures","popupBtnStyle","selector","hasBtn","btnText","align","btnStyle","popup","padding","updatePopup","units","default","BoxControl","values","variant","panelBodyController","setTimeout","panelBodies","querySelectorAll","clickEveryItem","removeEventListener","getAttribute","isEqualNode","click","addEventListener","panelRef","btnLink","endScreen","handleEndScreen","log","ref","autoHideControl","playinline","repeat","radius","styles","speed","width","chapters","imported","overlayBackground","overlayFontSize","fz","overlayLink","overlayOpacity","overlayPosition","overlayText","overlayTextColor","overlayType","overlayLogo","CDURL","isCDURL","endscreen","endscreenText","endscreenTextLink","vastTag","popupBtnText","popupBtnClass","popupBtnExists","autoplayWhenVisible","popupType","handleStyles","newStyles","isDeprecated","plyr_wrapper","number","unit","plyr","borderRadius","markers","points","chapter","time","Flex","FlexItem","FlexBlock","useRef","pointsDraft","setPointsDraft","Chapter","onRemove","itemIndex","pointsCopy","handleRemove","newChapter","handleChapter","point","addNew","onAdd","handleAdd","minusWrapper","marginLeft","onMouseEnter","onMouseLeave","select","TabPanel","Panel","InspectorControls","getCurrentPostId","clientId","uniqueId","substr","postId","additionalCSS","additionalID","postType","getCurrentPostType","updateHandler","updateStyle","attr","handleUnitChange","activeClass","tabs","tab","RefactorDataStructure","Settings","Markers","Overlay","EndScreen","Subtitle","Quality","split","Popup","Watermark","BControls","isResetValueOnUnitChange","onUnitChange","extractFileNamesWithoutExtension","filePath","parts","replace","media","fullscreen","container","iosNative","closest","offsetWidth","volume","storage","player","Plyr","src","pop","videoHls","videoDash","init","on","play","setIsPremium","sources","qualities","tracks","info","kind","srclang","track","appendChild","window","location","pathname","pause","currentTime","makeElementSticky","createChapter","pauseOther","createView","disabled","controlTouchAction","interval","videoId","pending","maxViewed","localStorage","getItem","created_at","Date","JSON","parse","setItem","stringify","viewCreated","condition","playing","nonce","model","method","video_id","duration","scrollPlayed","elements","offsetParent","offsetTop","scrollY","originalTop","getBoundingClientRect","top","closeBtn","htmlToElement","closeBtnExists","querySelector","classList","remove","wrapper","chapterTimeToSeconds","exists","chapterWrapper","chapterListWrapper","markerControl","chapterList","chapterItem","onclick","contains","event","volumeElem","menu","before","after","plyrWrapper","response","h5vpBlock","user","origin","tag","watermarkInterval","setInterval","watermarkElement","removeChild","Math","round","random","span","setAttribute","innerText","clearInterval","img","overlaid","buttons","destroy","match","getTTT","f","s","callback","setNonce","setVideoId","initializeHls","Hls","isSupported","hls","loadSource","attachMedia","Events","MANIFEST_PARSED","stopLoad","startLoad","subtitleTrack","currentTrack","warn","hlsScript","getElementById","local","getElementsByTagName","prepend","dashScript","dashjs","MediaPlayer","initialize","dash","body","videoWrapper","eventListeners","eventListener","parentNode","e","rect","clientX","left","forward","rewind","toggle","touchClientX","touches","touchClientY","clientY","deltaX","deltaY","changedTouches","abs","hpublic","dataset","domAttributesToObjectList","resultArray","attribute","hoverColor","href","rel","join","focusable","xlinkHref","reference","maxWidth","caption","srcLang","background","allowfullscreen","allowtransparency","allow","vimeoPattern","endScreenRef","stop","handleClose","inputString","toLowerCase","CSS","setCSS","css","itemCSS","key2","camelToKebabCase","dangerouslySetInnerHTML","__html","charset","randomString","randomIndex","floor","charAt","provider","setPlayer","videoSource","setVideoSource","useWPAjax","playerRef","MyPlayer","isVimeoLink","Style","PopupOpener","generateUniqueID","Vimeo","Youtube","Video","autoPlay","playsInline","Placeholder","isPipe","isSelected","mediaSource","setMediaSource","valid","setValid","dispatch","openGeneralSidebar","validURL","str","RegExp","BSettings","VideoPlayer","xmlns","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","rx","ry","instructions","preventDefault","margin","registerBlockType","blocks","metadata","edit","Edit","save","getEditWrapperProps","example","InnerBlocks","useBlockProps","useSelect","Modal","category","keywords","supports","inserter","reusable","blockProps","innerBlocks","getBlock","setTemplateValidity","insertBlockType","block","createBlock","insertBlock","templateLock","allowedBlocks","renderAppender","ButtonBlockAppender","marginTop","Content"],"sourceRoot":""}